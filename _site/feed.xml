<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>InvestmentMath</title>
		<description>Maths for Portfolio Management</description>
		<link>http://127.0.0.1:4000/</link>
		<atom:link href="http://127.0.0.1:4000/feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>Solution of the Exam (2018)</title>
				<description>&lt;p&gt;&lt;em&gt;This is the solution of the exam for the 2018 ensae course.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;exercise-1&quot;&gt;Exercise 1&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;The program is: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{min}} \; \pi&amp;#39; \Sigma \pi.\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;e=1,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;\mu=\bar{\mu}.\]&lt;/span&gt; The Lagrangian is: &lt;span class=&quot;math display&quot;&gt;\[\frac{1}{2}\pi&amp;#39; \Sigma \pi-\delta \pi&amp;#39;e-\gamma \pi&amp;#39;\mu.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;First order condition: &lt;span class=&quot;math display&quot;&gt;\[\Sigma \pi=\delta e+\gamma \mu.\]&lt;/span&gt; The condition &lt;span class=&quot;math inline&quot;&gt;\(\gamma=0\)&lt;/span&gt; corresponds to the minimum variance portfolio, since this corresponds to the soluion of: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{min}} \; \pi&amp;#39; \Sigma \pi.\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;e=1,\]&lt;/span&gt; i.e. wihtout the return constraint.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If &lt;span class=&quot;math inline&quot;&gt;\((\Sigma \bar{\pi})_{i}\)&lt;/span&gt; is the &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt;^th line of the vector, we have obviously: &lt;span class=&quot;math display&quot;&gt;\[(\Sigma \bar{\pi})_{i}=\gamma \mu_{i}+\gamma.\]&lt;/span&gt; Now &lt;span class=&quot;math inline&quot;&gt;\((\Sigma \bar{\pi})_{i}\)&lt;/span&gt; is the covariance of portfolio &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt; with asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Multiplying the first order condition by &lt;span class=&quot;math inline&quot;&gt;\(\pi&amp;#39;\)&lt;/span&gt;, we get: &lt;span class=&quot;math display&quot;&gt;\[\text{var}(\bar{r})=\gamma \bar{\mu}+\delta.\]&lt;/span&gt; Beta is defined as: &lt;span class=&quot;math display&quot;&gt;\[\frac{\text{Cov}(r_{i},r_{p})}{\text{Var}(r_{p})}.\]&lt;/span&gt; We can therefore multiply and divide the left hand side of the equation established in the previous question by &lt;span class=&quot;math inline&quot;&gt;\(\text{var}(\bar{r})\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[\text{var}(\bar{r})\beta_{i}=\mu_{i}+\frac{\delta}{\gamma},\]&lt;/span&gt; which then, leads to: &lt;span class=&quot;math display&quot;&gt;\[\beta_{i}(\bar{\mu}+\frac{\delta}{\gamma})=\mu_{i}+\frac{\delta}{\gamma}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If we gather all the above equations using a vectorial notation, we get: &lt;span class=&quot;math display&quot;&gt;\[\beta(\bar{\mu}+\frac{\delta}{\gamma})=\mu+\frac{\delta}{\gamma}.\]&lt;/span&gt; We then multiply this by &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}&amp;#39;\)&lt;/span&gt; and then use the fact that &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}&amp;#39;\beta=0\)&lt;/span&gt; to get: &lt;span class=&quot;math display&quot;&gt;\[0=\tilde{\mu}+\frac{\delta}{\gamma},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\tilde{\mu}=-\frac{\delta}{\gamma}.\]&lt;/span&gt; This provides the required result.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have used the assumption &lt;span class=&quot;math inline&quot;&gt;\(\gamma\neq 0\)&lt;/span&gt;. As a consequence, this construct cannot be applied for the minimum variance portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using the definition of &lt;span class=&quot;math inline&quot;&gt;\(\beta_{i}\)&lt;/span&gt;, we can write: &lt;span class=&quot;math display&quot;&gt;\[\text{Cov}(r_{i},\bar{r})(\bar{\mu}-\rho)=\text{Var}(\bar{r})(\mu_{i}-\rho),\]&lt;/span&gt; which in turn gives: &lt;span class=&quot;math display&quot;&gt;\[\text{Cov}(r_{i},\bar{r})=\frac{\text{Var}(\bar{r})}{\bar{\mu}-\rho}(\mu_{i}-\rho),\]&lt;/span&gt; provided &lt;span class=&quot;math inline&quot;&gt;\(\bar{\mu}-\rho\neq 0\)&lt;/span&gt;. This has the form: &lt;span class=&quot;math display&quot;&gt;\[\Sigma \bar{\pi}=\gamma \mu + \delta e.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The above equation is the first order condition of certain maximization problem as set out in question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. To identify this program, all that is needed is finding the expected return. It is however just &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}&amp;#39;\mu\)&lt;/span&gt;. Now, since the first order condition characterizes the solution, &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt; is, as desired, on the efficient frontier.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;exercice-2&quot;&gt;Exercice 2&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math display&quot;&gt;\[\frac{dW_{t}}{W_{t}}=x_{t}\frac{dP_{t}}{P_{t}}+(1-x_{t})\frac{dD_{t}}{D_{t}},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\frac{dW_{t}}{W_{t}}=x_{t}(\mu dt+\sigma dB_{t})+(1-x_{t})rdt,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\frac{dW_{t}}{W_{t}}=rdt+x_{t}(\mu-r)dt+\pi_{t}\sigma dB_{t},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[E_{t}\left[dW_{t}\right]=W_{t}(rdt+x_{t}(\mu-r)dt),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[d[W]_{t}=W_{t}^{2}x_{t}^{2}\sigma^{2}dt.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math display&quot;&gt;\[\frac{dW_{t}}{W_{t}}=rdt+x_{t}(\mu-r)dt+x_{t}\sigma dB_{t}-c_{t}dt,\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(c_{t}=C_{t}/W_{t}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The term that depend on &lt;span class=&quot;math inline&quot;&gt;\(C_{t}\)&lt;/span&gt; in the expression to be maximized is: &lt;span class=&quot;math display&quot;&gt;\[u(C_{t})-J_{W}C_{t},\]&lt;/span&gt; and its maximization with respect to &lt;span class=&quot;math inline&quot;&gt;\(C_{t}\)&lt;/span&gt; lead to: &lt;span class=&quot;math display&quot;&gt;\[C_{t}=u^{&amp;#39;-1}(J_{W}).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The term that depends on &lt;span class=&quot;math inline&quot;&gt;\(x_{t}\)&lt;/span&gt; is: &lt;span class=&quot;math display&quot;&gt;\[J_{W}W_{t}x_{t}(\mu-r)+\frac{1}{2}J_{WW}W_{t}^{2}x_{t}^{2}\sigma^{2}.\]&lt;/span&gt; Assuming this is a concave function in &lt;span class=&quot;math inline&quot;&gt;\(x_{t}\)&lt;/span&gt;, we can assume optimal investment is given by: &lt;span class=&quot;math display&quot;&gt;\[x^{*}_{t}=-\frac{J_{W}}{W_{t}J_{WW}}\frac{\mu-r}{\sigma^{2}}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The first fraction on the left hand side is risk tolerance. Investment is proportional to the tagent portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This is standard calculus.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;These equations are obtained by subsituting the optimal controls (consumption and investment, as function of the partial derivatives of the value function) into the expressions. The algrebra is a bit tedious but without difficulties.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Inject the result of 7. into HJB. The algebra is simple.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Injecting the above results into HJB, prove that &lt;span class=&quot;math inline&quot;&gt;\(h(\cdot)\)&lt;/span&gt; solves the following differential equation: &lt;span class=&quot;math display&quot;&gt;\[\beta=\frac{1}{\alpha}\left[-\rho+(1-\alpha)r+\frac{1-\alpha}{2\alpha}\lambda^{2}\right],\]&lt;/span&gt; the equation is: &lt;span class=&quot;math display&quot;&gt;\[h&amp;#39;+\beta h+1=0.\]&lt;/span&gt; The solution is of the form: &lt;span class=&quot;math display&quot;&gt;\[h(t)=a \exp(-\beta t)+b.\]&lt;/span&gt; The differential equation and the terminal constraint determine &lt;span class=&quot;math inline&quot;&gt;\(a\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(b\)&lt;/span&gt;. We get: &lt;span class=&quot;math display&quot;&gt;\[h(t)=\frac{1}{\beta}\left(\exp(\beta (T-t))-1\right).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2019-01-15-solexam.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Tue, 15 Jan 2019 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2019/01/15/solexam.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2019/01/15/solexam.html</guid>
			</item>
		
			<item>
				<title>Exam (2018)</title>
				<description>&lt;p&gt;&lt;em&gt;This is the exam for the 2018 ensae course.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;exercise-1&quot;&gt;Exercise 1&lt;/h2&gt;
&lt;p&gt;The investment universe is composed of &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; risky assets (indices &lt;span class=&quot;math inline&quot;&gt;\(i=1,\ldots,N\)&lt;/span&gt;) with expected returns &lt;span class=&quot;math inline&quot;&gt;\(\mu=(\mu_{1},\ldots,\mu_{N})&amp;#39;\)&lt;/span&gt; and covariance matrix &lt;span class=&quot;math inline&quot;&gt;\(\Sigma\)&lt;/span&gt; (dimension &lt;span class=&quot;math inline&quot;&gt;\((N,N)\)&lt;/span&gt;) which is assumed non singular. A portfolio is a vector &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; of size &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; which records the proportions invested on the assets. The proportions sum to &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;, i.e. &lt;span class=&quot;math inline&quot;&gt;\(\pi&amp;#39;e=1\)&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(e\)&lt;/span&gt; is the vector of size &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; where each component is equal to &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Given a return objective &lt;span class=&quot;math inline&quot;&gt;\(\bar{\mu}\)&lt;/span&gt;, we are looking for the portfolio with the lowest possible level of risk. Give the corresponding optimization problem. Derive the Lagrangian, noting &lt;span class=&quot;math inline&quot;&gt;\(\gamma\)&lt;/span&gt; the multiplier of the return constraint and &lt;span class=&quot;math inline&quot;&gt;\(\delta\)&lt;/span&gt; the multiplier of the full investment constraint.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What is the first order condition corresponding to the optimum ? For which portfolio do we get &lt;span class=&quot;math inline&quot;&gt;\(\gamma=0\)&lt;/span&gt; ?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We consider an optimal portfolio &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\gamma \neq 0\)&lt;/span&gt; and return &lt;span class=&quot;math inline&quot;&gt;\(\bar{r}\)&lt;/span&gt;. Show that the first order condition for this portfolio can be written as: &lt;span class=&quot;math display&quot;&gt;\[\text{cov}(r_{i},\bar{r})=\gamma \mu_{i}+\delta.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[\text{var}(\bar{r})=\gamma \bar{\mu}+\delta,\]&lt;/span&gt; and: &lt;span class=&quot;math display&quot;&gt;\[\beta_{i}(\bar{\mu}+\frac{\delta}{\gamma})=\mu_{i}+\frac{\delta}{\gamma},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\beta_{i}\)&lt;/span&gt; is the beta of asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt; against portfolio &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We now consider portfolio &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}\)&lt;/span&gt; with return &lt;span class=&quot;math inline&quot;&gt;\(\tilde{r}\)&lt;/span&gt; satisfying: &lt;span class=&quot;math inline&quot;&gt;\(\text{cov}(\tilde{r},\bar{r})=0\)&lt;/span&gt;. Let &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\mu}\)&lt;/span&gt; be its expected return. Show that for asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[\mu_{i}-\tilde{\mu}=\beta_{i}(\bar{\mu}-\tilde{\mu}).\]&lt;/span&gt; This is called a one factor representation of expected returns.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Only one efficient portfolio does not give rise to a one factor representation of expected returns. Which one ?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Inversely, assume that portfolio &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt; with return &lt;span class=&quot;math inline&quot;&gt;\(\bar{r}\)&lt;/span&gt; gives rise to a one factor representation: &lt;span class=&quot;math display&quot;&gt;\[\beta_{i}(\bar{\mu}-\rho)=\mu_{i}-\rho,\]&lt;/span&gt; for all &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt;, where &lt;span class=&quot;math inline&quot;&gt;\(\beta_{i}\)&lt;/span&gt; is the beta of asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt; with respect to portfolio &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt;. Show that we have the following vectorial relationship: &lt;span class=&quot;math display&quot;&gt;\[\Sigma \bar{\pi}=\gamma \mu + \delta e,\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\gamma\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(\delta\)&lt;/span&gt; are constants associated to the one factor representation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Conclude that portfolio &lt;span class=&quot;math inline&quot;&gt;\(\bar{\pi}\)&lt;/span&gt; (the portfolio which generates the given one factor representation) is a solution to the problem defined in the first question. As a reminder, in the context of convex objective function and linear constraints, the first order condition attached to the Lagrangian is both necessary and sufficient to define a solution.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;exercice-2&quot;&gt;Exercice 2&lt;/h2&gt;
&lt;p&gt;We consider the following continuous time investment problem. The investment universe is composed of two assets, cash with constant rate of return: &lt;span class=&quot;math display&quot;&gt;\[\frac{dD_{t}}{D_{t}}=r dt,\]&lt;/span&gt; and a risky asset that follows a geometric diffusion process: &lt;span class=&quot;math display&quot;&gt;\[\frac{dP_{t}}{P_{t}}=\mu dt+\sigma dB_{t}=r dt+(\mu-r)dt+\sigma dB_{t},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(B_{t}\)&lt;/span&gt; is a scalar Brownian motion. The price of risk is defined as &lt;span class=&quot;math inline&quot;&gt;\(\lambda=(\mu-r)/\sigma\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;At each point in time, wealth &lt;span class=&quot;math inline&quot;&gt;\(W_{t}\)&lt;/span&gt; is invested to finance a consumption flow &lt;span class=&quot;math inline&quot;&gt;\(C_{t}dt\)&lt;/span&gt; over the time interval &lt;span class=&quot;math inline&quot;&gt;\([t,t+dt]\)&lt;/span&gt;. The fraction of wealth invested on the risky asset at time &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; is noted &lt;span class=&quot;math inline&quot;&gt;\(x_{t}\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Give the stochastic differential equation followed by wealth assuming consumption is zero. As a reminder, this is the infinitesimal version of the discrete time equation. Give &lt;span class=&quot;math inline&quot;&gt;\(E_{t}[dW_{t}]\)&lt;/span&gt; (the drift of wealth) and &lt;span class=&quot;math inline&quot;&gt;\(d[W]_{t}\)&lt;/span&gt; (the quadratic variation of wealth).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Same question without assuming &lt;span class=&quot;math inline&quot;&gt;\(C^{t}=0\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;At each time &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;, the investor maximizes: &lt;span class=&quot;math display&quot;&gt;\[E_{t}\left[\int_{t}^{T}e^{-\rho (u-t)}u(C_{u})du\right],\]&lt;/span&gt; by making consumption - &lt;span class=&quot;math inline&quot;&gt;\(C_{t}\)&lt;/span&gt; - and investment - &lt;span class=&quot;math inline&quot;&gt;\(x_{t}\)&lt;/span&gt; - choices. The associated value function is noted &lt;span class=&quot;math inline&quot;&gt;\(J(t,W_{t})\)&lt;/span&gt;. It is admitted that the dynamic programming principle implies the following partial differential equation (HJB): &lt;span class=&quot;math display&quot;&gt;\[0=\max_{(C_{t},x_{t})}\left[
u(C_{t})-\rho J+\frac{\partial J}{\partial t}+\frac{\partial J}{\partial W}E[dW_{t}]+\frac{1}{2}\frac{\partial^{2} J}{\partial W^{2}}d[W]_{t}
\right].\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We will use the following notations: &lt;span class=&quot;math display&quot;&gt;\[\frac{\partial J}{\partial t}=J_{t},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\frac{\partial J}{\partial W}=J_{W},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\frac{\partial^{2} J}{\partial W^{2}}=J_{WW}.\]&lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Give the optimal consumption rate &lt;span class=&quot;math inline&quot;&gt;\(C_{t}^{*}\)&lt;/span&gt; as a function of &lt;span class=&quot;math inline&quot;&gt;\(J_{W}\)&lt;/span&gt; and the utility function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Give the optimal risky asset weight &lt;span class=&quot;math inline&quot;&gt;\(x_{t}^{*}\)&lt;/span&gt;, outlining the relevant property of the value function underlying your reasoning.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Describe the structure of this solution.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We now assume the utility function is: &lt;span class=&quot;math display&quot;&gt;\[u(C)=\frac{C^{1-\alpha}}{1-\alpha},\]&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\alpha&amp;gt;1\)&lt;/span&gt; and admit that the value function has a similar structure: &lt;span class=&quot;math display&quot;&gt;\[J(t,W_{t})=h(t)^{\alpha}\frac{W_{t}^{1-\alpha}}{1-\alpha}.\]&lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[\frac{C^{*}_{t}}{W^{*}_{t}}=h(t)^{-1},\]&lt;/span&gt; and: &lt;span class=&quot;math display&quot;&gt;\[x_{t}^{*}=\frac{1}{\alpha}\frac{\lambda}{\sigma}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that at each date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[u(C^{*})-J_{W}C^{*}=\frac{\alpha}{1-\alpha}J_{W}^{(\alpha-1)/\alpha},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[J_{W}Wx^{*}(\mu-r)+\frac{1}{2}J_{WW}W^{2}\sigma^{2}x^{*2}=-\frac{1}{2}\frac{J_{W}^{2}}{J_{WW}}\lambda^{2}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Injecting the above results into HJB, prove that &lt;span class=&quot;math inline&quot;&gt;\(h(\cdot)\)&lt;/span&gt; solves the following differential equation: &lt;span class=&quot;math display&quot;&gt;\[h&amp;#39;+\frac{1}{\alpha}\left[-\rho+(1-\alpha)r+\frac{1-\alpha}{2\alpha}\lambda^{2}\right]h+1=0,\]&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(h(T)=0\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Find the solution &lt;span class=&quot;math inline&quot;&gt;\(h(\cdot)\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Give the stochastic differential equation followed by log wealth and log consumption.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2018-12-03-exam.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Mon, 03 Dec 2018 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2018/12/03/exam.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2018/12/03/exam.html</guid>
			</item>
		
			<item>
				<title>Exam (2017)</title>
				<description>&lt;p&gt;&lt;em&gt;This is the exam for the 2017 ensae course.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;notations&quot;&gt;Notations&lt;/h2&gt;
&lt;p&gt;I consider an investment universe composed of cash (index &lt;span class=&quot;math inline&quot;&gt;\(i=0\)&lt;/span&gt;) with return &lt;span class=&quot;math inline&quot;&gt;\(r\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; risky assets (indices &lt;span class=&quot;math inline&quot;&gt;\(i=1,\ldots,N\)&lt;/span&gt;) with expected returns &lt;span class=&quot;math inline&quot;&gt;\(\mu=(\mu_{1},\ldots,\mu_{N})&amp;#39;\)&lt;/span&gt; and covariance matrix &lt;span class=&quot;math inline&quot;&gt;\(\Sigma\)&lt;/span&gt; (dimension &lt;span class=&quot;math inline&quot;&gt;\((N,N)\)&lt;/span&gt;). Each investor builds a portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi=(\pi_{0},\tilde{\pi})\)&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\pi_{0}\)&lt;/span&gt; is the proportion of wealth invested in cash and &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}\)&lt;/span&gt; is a vector of size &lt;span class=&quot;math inline&quot;&gt;\((N,1)\)&lt;/span&gt; recording the proportions invested on the risky assets. The portfolio vector satisfies the following contraint: &lt;span class=&quot;math display&quot;&gt;\[\pi_{0}+\tilde{\pi}&amp;#39;e=1,\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(e\)&lt;/span&gt; is the vector of size &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; with all components equal to &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;.&lt;/p&gt;
&lt;h2 id=&quot;part-1&quot;&gt;Part &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;&lt;/h2&gt;
&lt;h2 id=&quot;exercise-1&quot;&gt;Exercise 1&lt;/h2&gt;
&lt;p&gt;Investor preferences are assumed quadratic (expected utility): &lt;span class=&quot;math display&quot;&gt;\[\pi_{0}r+\tilde{\pi}&amp;#39;\mu-\frac{\rho}{2}\tilde{\pi}&amp;#39;\Sigma\tilde{\pi},\]&lt;/span&gt; indexed by &lt;span class=&quot;math inline&quot;&gt;\(\rho&amp;gt;0\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Let’s assume investors access risky assets exclusively through a portfolio &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{e}\)&lt;/span&gt; (satisfying &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{e}&amp;#39;e=1\)&lt;/span&gt;), with expected return &lt;span class=&quot;math inline&quot;&gt;\(\mu_{e}\)&lt;/span&gt; and variance &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{e}^{2}\)&lt;/span&gt;. Let &lt;span class=&quot;math inline&quot;&gt;\(\hat{\pi}_{\rho}\)&lt;/span&gt; be the proportion of portfolio &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{e}\)&lt;/span&gt; bought by an investor with parameter &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt; (her risky asset portfolio is therefore &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{\rho}=\hat{\pi}_{\rho}\tilde{\pi}_{e}\)&lt;/span&gt;). Compute &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{\rho}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Given the situation described in question 1, all investors hold different proportions of the index &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{e}\)&lt;/span&gt;. We are now interested in marginal changes in risky asset positions investors could make to improve their expected utility level. Compute the gradient of expected utility of investor &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt;, measured at &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pi}_{\rho}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that the gradient is independent of &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt;, and that component &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt; is equal to: &lt;span class=&quot;math display&quot;&gt;\[(\mu_{i}-r)-\beta_{i,e}\eta,\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\beta_{i,e}\)&lt;/span&gt; is the beta of asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt; with respect to the index (the beta of &lt;span class=&quot;math inline&quot;&gt;\(y\)&lt;/span&gt; with respect to &lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt; is &lt;span class=&quot;math inline&quot;&gt;\(\text{Cov}(y,x)/\text{Var}(x)\)&lt;/span&gt;) and &lt;span class=&quot;math inline&quot;&gt;\(\eta\)&lt;/span&gt; is a constant that will be expressed as a return.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To improve expected utility, one can move positions in the direction given by the gradient. Explain why all investors agree on the assets to buy and sell in this process.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;part-2&quot;&gt;Part &lt;span class=&quot;math inline&quot;&gt;\(2\)&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;In this part, the returns of the assets between date &lt;span class=&quot;math inline&quot;&gt;\(t-1\)&lt;/span&gt; and date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; will be noted &lt;span class=&quot;math inline&quot;&gt;\(R_{i,t}\)&lt;/span&gt; while the rates of return are written &lt;span class=&quot;math inline&quot;&gt;\(r_{i,t}\)&lt;/span&gt;. The vector (of size &lt;span class=&quot;math inline&quot;&gt;\((N+1,1)\)&lt;/span&gt;) of returns is &lt;span class=&quot;math inline&quot;&gt;\(R_{t}\)&lt;/span&gt;. Note that this vector contains the cash return. I assume initially that the sequence of returns is i.i.d.. As usual, the vector of size &lt;span class=&quot;math inline&quot;&gt;\((N+1,1)\)&lt;/span&gt; with all components equal to &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; is noted &lt;span class=&quot;math inline&quot;&gt;\(e\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Let &lt;span class=&quot;math inline&quot;&gt;\(w_{t}\)&lt;/span&gt; be the level of wealth. At any date &lt;span class=&quot;math inline&quot;&gt;\(t&amp;lt;T\)&lt;/span&gt;, the investor maximizes the expected value of the log of wealth at horizon &lt;span class=&quot;math inline&quot;&gt;\(T\)&lt;/span&gt;.&lt;/p&gt;
&lt;h2 id=&quot;exercice-2&quot;&gt;Exercice 2&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Describe the optimization program and define the value function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Give the dynamic programming equation between date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(t+1\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using backward induction, show that the value function has the following structure: &lt;span class=&quot;math display&quot;&gt;\[V_{t}(w_{t})=\log(w_{t})+A_{t},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(A_{t}\)&lt;/span&gt; is a constant. Conclude that the investor solves the same optimization problem (which one ?) at each date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Give the first order condition of the problem identified in question &lt;span class=&quot;math inline&quot;&gt;\(3\)&lt;/span&gt;. Is this condition sufficient ?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We now assume that there is a solution to the optimization problem identified in question &lt;span class=&quot;math inline&quot;&gt;\(3\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Assume that an investor with infinite investment horizon solves the sequential optimization problem defined above. This leads to a same optimal portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi_{*}\)&lt;/span&gt; being chosen in each period. Prove that this policy beats any other static portfolio choice &lt;span class=&quot;math inline&quot;&gt;\(\pi\neq\pi_{*}\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I now drop the assumption that returns are i.i.d.. The conditional distribution &lt;span class=&quot;math inline&quot;&gt;\({\cal L}_{t}(R_{t+1})\)&lt;/span&gt; of period &lt;span class=&quot;math inline&quot;&gt;\(t+1\)&lt;/span&gt; returns as seen from period &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; is supposed to be characterized by a markovian state variable &lt;span class=&quot;math inline&quot;&gt;\(x_{t}\)&lt;/span&gt;. More generally, we assume that for any random variable &lt;span class=&quot;math inline&quot;&gt;\(y_{t+1}\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[y_{t+1}]=E[y_{t+1}|x_{t}].\]&lt;/span&gt; It is reminded that &lt;span class=&quot;math inline&quot;&gt;\(E[y_{t+1}|x_{t}]\)&lt;/span&gt; can be written &lt;span class=&quot;math inline&quot;&gt;\(g(x_{t})\)&lt;/span&gt; where the function &lt;span class=&quot;math inline&quot;&gt;\(g(\cdot)\)&lt;/span&gt; is specific to the random variable &lt;span class=&quot;math inline&quot;&gt;\(y_{t+1}\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The optimization problem is otherwise unchanged.&lt;/p&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Define the state variable of the new problem, and give the new dynamic programming equation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that the value function now has the following structure: &lt;span class=&quot;math display&quot;&gt;\[V_{t}(x_{t},w_{t})=\log(w_{t})+A_{t}(x_{t}).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Which optimization problem is solved at each date as a result ? The solution will be noted &lt;span class=&quot;math inline&quot;&gt;\(\pi_{t}^{*}(x_{t})\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I remind that a martingale difference is a process &lt;span class=&quot;math inline&quot;&gt;\((z_{t})_{t\in \mathbb{N}}\)&lt;/span&gt; satisfying &lt;span class=&quot;math inline&quot;&gt;\(E_{t}[z_{t+1}]=0\)&lt;/span&gt;. We will admit that under some condition on second moments, almost surely: &lt;span class=&quot;math display&quot;&gt;\[\lim_{T \rightarrow +\infty}\frac{1}{T}\sum_{t=1}^{T}z_{t}=0.\]&lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;9&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;We now want to extend the result of question &lt;span class=&quot;math inline&quot;&gt;\(5\)&lt;/span&gt; to the new context. An investor chooses at each date the portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi_{t}(x_{t})\)&lt;/span&gt;. Show that asymptotically, the wealth process generated by &lt;span class=&quot;math inline&quot;&gt;\(\pi_{t}^{*}(x_{t})\)&lt;/span&gt; dominates that generated by &lt;span class=&quot;math inline&quot;&gt;\(\pi_{t}(x_{t})\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extend the above results to the continuous time context, starting with the i.i.d. case.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2018-12-01-exam.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Sat, 01 Dec 2018 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2018/12/01/exam.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2018/12/01/exam.html</guid>
			</item>
		
			<item>
				<title>The Martingale Method in Continuous Time</title>
				<description>&lt;p&gt;&lt;em&gt;This post describes the martingale method in continuous time. It should be read after &lt;a href=&quot;/ensae/2015/11/14/complete-dyn.html&quot;&gt;this one&lt;/a&gt;. It illustrates the method on a simple example within the Black and Scholes framework where an investor maximizes the utility of terminal wealth. In this context, the martingale method allows to spell out how optimal terminal wealth depends on the unique stochastic discount factor, or alternatively, how it is obtained as a transformation of the stock return. The transformation hinges on the shape of the utility function. The case of a CRRA utility function is fully spelled out. The results obtained through dynamic programming &lt;a href=&quot;/ensae/2014/10/27/cont.html&quot;&gt;here&lt;/a&gt; are recovered although the martingale method does not easily uncover the trading policy that generates the optimal terminal wealth.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;no-arbitrage-and-stochastic-discount-factors&quot;&gt;No arbitrage and Stochastic Discount Factors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We take a situation where trading takes place over a time interval &lt;span class=&quot;math inline&quot;&gt;\([0,T]\)&lt;/span&gt;. &lt;span class=&quot;math inline&quot;&gt;\(T\)&lt;/span&gt; is therefore the end of time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In this context, we say that the market is complete if any suitably measurable and integrable pay-off &lt;span class=&quot;math inline&quot;&gt;\(X_{t}\)&lt;/span&gt; of any date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; can be obtained through a trading strategy, starting from some initial level of wealth.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The logic remains the same as in the case of discrete time:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;if there is a strictly positive stochastic discount factor, there is no arbitrage,&lt;/li&gt;
&lt;li&gt;if there is no arbitrage, there exists a strictly positive discount factor,&lt;/li&gt;
&lt;li&gt;the market is complete if and only if there is a unique strictly positive discount factor.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The results are however much more difficult to establish, especially going from no arbitrage to the existence of the strictly positive discount factor.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As in discrete time, the existence of a strictly positive discount factor is equivalent to the existence of a probability measure such that after choosing the bank account as the numeraire, asset prices follow martingale dynamics under the new probability measure.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The completeness of the market is tightly linked to the ability of representing martingales as stochastic integrals with respect to ‘tradable martingales’. When the martingale representation result holds in the given market context (all suitably measurable and integrable martingales can be obtained as stochastic integrals with respect to ‘tradable martingales’), the given representation can be used to identify the trading policy that generates the pay-off &lt;span class=&quot;math inline&quot;&gt;\(X_{t}\)&lt;/span&gt;. Martingale representation results are existence results and other techniques are needed to effectively compute the trading policy.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;the-martingale-approach&quot;&gt;The martingale approach&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I assume that the market admits no arbitrage, and is complete.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let’s consider a consumption and investment problem, without labour income. We assume that the optimization problem is: &lt;span class=&quot;math display&quot;&gt;\[\underset{(C_{[0,T]},\pi_{[0,T]})}{\text{max}}
\; E_{0}\left[\int_{0}^{T} \delta^{v}u_{v}(C_{v})du+U(W_{T})\right],\]&lt;/span&gt; subject to the self-financing condition: &lt;span class=&quot;math display&quot;&gt;\[\frac{dW_{v}}{W_{v}}=\pi_{0,t}r_{v}du+\sum_{i=1}^{N}\pi_{i,t}\frac{dS_{i,t}}{S_{i,t}}-\frac{dC_{v}}{W_{v}},\]&lt;/span&gt; for an initial level of wealth &lt;span class=&quot;math inline&quot;&gt;\(W_{0}\)&lt;/span&gt;. I will assume &lt;span class=&quot;math inline&quot;&gt;\(u_{t}(\cdot)\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(U(\cdot)\)&lt;/span&gt; have range &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}_{+}^{*}\)&lt;/span&gt; and are strictly increasing and concave, with &lt;span class=&quot;math inline&quot;&gt;\(u_{t}^{\prime}\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(U^{\prime}\)&lt;/span&gt; ranging from &lt;span class=&quot;math inline&quot;&gt;\(+\infty\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; as consumption varies in &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}_{+}^{*}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Because the market is complete, we actually don’t have to worry about how a consumption stream (including final wealth) is going to be financed. All that matters is that initial wealth is sufficient to finance them given the Arrow-Debreu prices. If that is the case, we know that a financing policy has to exists.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can thus restate the optimization problem as: &lt;span class=&quot;math display&quot;&gt;\[\underset{C_{[0,T]}}{\text{max}}
\; E_{0}\left[\int_{0}^{T} \delta^{v}u_{v}(C_{v})du+\delta^{T}U(W_{T})\right],\]&lt;/span&gt; subject to the financability condition: &lt;span class=&quot;math display&quot;&gt;\[W_{0}=E_{0}\left[\int_{0}^{T} M_{v}C_{v}du+M_{T}W_{T}\right].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can study the corresponding Lagrangian: &lt;span class=&quot;math display&quot;&gt;\[E_{0}\left[\int_{0}^{T} \delta^{v}u_{v}(C_{v})du+\delta^{T}U(W_{T})-\lambda\left(\int_{0}^{T} M_{v}C_{v}du+M_{T}W_{T}\right)\right].\]&lt;/span&gt; We can then pretend to solve it as if all &lt;span class=&quot;math inline&quot;&gt;\(C_{t}(\omega)\)&lt;/span&gt; (all dates and all states of nature) and &lt;span class=&quot;math inline&quot;&gt;\(W_{T}(\omega)\)&lt;/span&gt; (all states of nature) were chosen independently. Of course these values cannot be chosen independently in reality since the functions &lt;span class=&quot;math inline&quot;&gt;\(C_{t}(\cdot)\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(W_{T}(\cdot)\)&lt;/span&gt; have to be adapted to the filtration for example. We will however proceed as if they could be chosen independently and we will check ex-post that the solutions are indeed adapted.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;By analogy to the discrete time case, we should expect: &lt;span class=&quot;math display&quot;&gt;\[\delta^{t}u_{t}&amp;#39;(C_{t}(\omega))=\lambda M_{t}(\omega),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\delta^{T}U_{t}&amp;#39;(W_{T}(\omega))=\lambda M_{T}(\omega),\]&lt;/span&gt; for some &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Given that the state price deflator is adapted to the filtration and that commands are defined by: &lt;span class=&quot;math display&quot;&gt;\[C_{t}(\omega)=u^{\prime -1}(\lambda\delta^{-t} M_{t}(\omega)),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[W_{T}(\omega)=U^{\prime -1}(\lambda\delta^{-T} M_{T}(\omega)),\]&lt;/span&gt; the commands necessarily satisfy the measurability conditions (adaptation to the filtration).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The choice of &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt; is dictated by the budget constraint: &lt;span class=&quot;math display&quot;&gt;\[W_{0}=E_{0}\left[\int_{0}^{T} M_{v}C_{v}du+M_{T}W_{T}\right].\]&lt;/span&gt; The assumptions on the derivatives of the utility functions are designed to ensure the existence of a suitable multiplier. Indeed, one can check that the budget required by the above consumption and final wealth levels is a monotonous function of &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt; and that there necessarily exists a value &lt;span class=&quot;math inline&quot;&gt;\(\lambda^{*}\)&lt;/span&gt; that is compatible with the initial level of wealth.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This solution technique is very elegant. It should however be clear that it does not deliver the required trading policy. We know that this policy exists, but we have not established a way to pin it down.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;a-simple-illustration&quot;&gt;A simple illustration&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I now illustrate this method on a Black and Scholes setting. The example is borrowed from John Cochrane (reference): &lt;span class=&quot;math display&quot;&gt;\[\frac{dD_{t}}{D_{t}}=rdt,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\frac{dS_{t}}{S_{t}}=\mu dt+\sigma dB_{t}=rdt+(\mu-r)dt+\sigma dB_{t}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Suppose the SDF follows a diffusion: &lt;span class=&quot;math display&quot;&gt;\[\frac{dM_{t}}{M_{t}}=\beta dt+\alpha dB_{t}.\]&lt;/span&gt; Applying Ito to &lt;span class=&quot;math inline&quot;&gt;\(M_{t}D_{t}\)&lt;/span&gt; and imposing that the drift is null (i.e. we have a martingale), we see that we should have &lt;span class=&quot;math inline&quot;&gt;\(\beta=-r\)&lt;/span&gt;. Similarly, Ito applied to &lt;span class=&quot;math inline&quot;&gt;\(M_{t}S_{t}\)&lt;/span&gt; forces &lt;span class=&quot;math inline&quot;&gt;\(\alpha=-(\mu-r)/\sigma=-\lambda\)&lt;/span&gt; (minus the price of risk), so that in the end: &lt;span class=&quot;math display&quot;&gt;\[\frac{dM_{t}}{M_{t}}=-r dt-\lambda dB_{t}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The market is complete and any suitably integrable martingale &lt;span class=&quot;math inline&quot;&gt;\((X_{t})_{t \in [0,T]}\)&lt;/span&gt; can be expressed as a stochastic integral: &lt;span class=&quot;math display&quot;&gt;\[\int_{0}^{t}h_{v}dB_{v},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\((h_{v})_{t \in [0,T]}\)&lt;/span&gt; is a predictable process.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let’s consider now an optimization problem with terminal utility of wealth: &lt;span class=&quot;math display&quot;&gt;\[\underset{W_{T}}{\text{max}} \; E_{0}\left[U(W_{T})\right],\]&lt;/span&gt; subject to the financeability condition (complete market): &lt;span class=&quot;math display&quot;&gt;\[W_{0}=E_{0}\left[M_{T}W_{T}\right].\]&lt;/span&gt; We take: &lt;span class=&quot;math display&quot;&gt;\[U(W)=\frac{W^{1-\rho}}{1-\rho}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We know that there must exist a Lagrange multiplier &lt;span class=&quot;math inline&quot;&gt;\(\gamma\)&lt;/span&gt; such that: &lt;span class=&quot;math display&quot;&gt;\[U^{\prime}(W_{T})=\gamma M_{T},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[W_{0}=E_{0}\left[M_{T}U^{\prime -1}(\gamma M_{T})\right].\]&lt;/span&gt; Using &lt;span class=&quot;math inline&quot;&gt;\(U^{\prime}(x)=x^{-\rho}\)&lt;/span&gt;, we then get: &lt;span class=&quot;math display&quot;&gt;\[\frac{W_{T}^{*}}{W_{0}}=\frac{M_{T}^{-\frac{1}{\rho}}}{E_{0}\left[M_{T}^{\frac{\rho-1}{\rho}}\right]}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Integrating the SDE followed by &lt;span class=&quot;math inline&quot;&gt;\(M_{t}\)&lt;/span&gt;, we get: &lt;span class=&quot;math display&quot;&gt;\[M_{T}=\exp\left(-(r+\frac{1}{2}\lambda^{2})T-\lambda B_{T}\right).\]&lt;/span&gt; Injecting this into the expression for optimal wealth delivers: &lt;span class=&quot;math display&quot;&gt;\[W_{T}^{*}=\exp\left(rT+\frac{1}{\rho}(1-\frac{1}{2\rho})\lambda^{2}T+\frac{1}{\rho}\lambda B_{T}\right).\]&lt;/span&gt; It can be checked that this is the same expression as the one obtained &lt;a href=&quot;/ensae/2014/10/27/cont.html&quot;&gt;here&lt;/a&gt;, where we solved this constant opportunities problem with CRRA utility of terminal wealth through dynamic programming.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Relatively lengthy calculations also show that, setting: &lt;span class=&quot;math display&quot;&gt;\[\alpha=\frac{\lambda}{\rho \sigma},\]&lt;/span&gt; we have: &lt;span class=&quot;math display&quot;&gt;\[\frac{W_{T}^{*}}{W_{0}}=\exp\left((1-\alpha)(r+\frac{1}{2}\alpha\sigma^{2})T\right)R_{T}^{\alpha},\]&lt;/span&gt; where: &lt;span class=&quot;math display&quot;&gt;\[R_{T}=\frac{S_{T}}{S_{0}}=\exp\left(rT+\sigma\lambda T+\sigma B_{T}\right).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal wealth is thus a transformation of the stock return. The graph below gives the shape of this transformation for different values of parameters. For low risk aversion, the transformation is convex. It is concave for high risk aversion, and linear for &lt;span class=&quot;math inline&quot;&gt;\(\alpha=1\)&lt;/span&gt;. This is consistent with the idea that investors with low risk aversion will accept the downside to benefit from the downside. In contrast, high risk aversion investors are willing to sacrifice the upside to protect the downside.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure&gt;
&lt;img src=&quot;/assets/media/complete.png&quot; alt=&quot;Figure 1: The impact of risk aversion on the optimal wealth schedule (blue=leveraged, red=unleveraged)&quot; /&gt;&lt;figcaption aria-hidden=&quot;true&quot;&gt;Figure 1: The impact of risk aversion on the optimal wealth schedule (blue=leveraged, red=unleveraged)&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;&lt;br /&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The martingale method does not deliver a trading policy. We know from dynamic programming however that the optimal policy consists in investing &lt;span class=&quot;math inline&quot;&gt;\(\alpha\)&lt;/span&gt; on the stock at all times. Low risk aversion investors have &lt;span class=&quot;math inline&quot;&gt;\(\alpha&amp;gt;1\)&lt;/span&gt; (leverage) while high risk aversion investors have &lt;span class=&quot;math inline&quot;&gt;\(\alpha&amp;lt;1\)&lt;/span&gt; (the investor holds cash in addition to stocks). The case &lt;span class=&quot;math inline&quot;&gt;\(\alpha=1\)&lt;/span&gt; consists in putting all wealth on stocks and holding it subsequently. It is a buy-and-hold policy. It should be noted that in all cases, wealth is entirely consumed when &lt;span class=&quot;math inline&quot;&gt;\(R_{T}=0\)&lt;/span&gt;. In contrast, an investor who splits its wealth on cash and stocks and never rebalances is guaranteed to keep its cash when the value of the stock goes to zero.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2017-01-13-completecont.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Fri, 13 Jan 2017 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2017/01/13/completecont.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2017/01/13/completecont.html</guid>
			</item>
		
			<item>
				<title>Constrained Optimization</title>
				<description>&lt;p&gt;&lt;em&gt;This post collects constrained optimzation results for reference.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;kuhn-tucker&quot;&gt;Kuhn-Tucker&lt;/h2&gt;
&lt;p&gt;The presentation below is an adaptation of &lt;em&gt;Functional Analysis, Calculus of Variations and Optimal Control&lt;/em&gt;, by Francis Clarke, Springer Verlag 2013 (Chapter &lt;span class=&quot;math inline&quot;&gt;\(9\)&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;We start with the following data:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt; is a convex set of &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}^{N}\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(f : S \to \mathbb{R}\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(f\)&lt;/span&gt; is concave&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(g_{i} : S \to \mathbb{R},\, i=1,2,\ldots,m\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;each &lt;span class=&quot;math inline&quot;&gt;\(g_{i}\)&lt;/span&gt; is convex&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math inline&quot;&gt;\(h_{i} : S \to \mathbb{R},\, i=1,2,\ldots,n\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;each &lt;span class=&quot;math inline&quot;&gt;\(h_{i}\)&lt;/span&gt; is affine&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Program &lt;span class=&quot;math inline&quot;&gt;\(P\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[\underset{x}{\text{max}} \; f(x)\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[x \in S,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[h(x)=0,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[g(x)\leq 0.\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Theorem (Kuhn-Tucker)&lt;/strong&gt;: &lt;em&gt;Let &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt; be a solution of &lt;span class=&quot;math inline&quot;&gt;\(P\)&lt;/span&gt;. Then there exists &lt;span class=&quot;math inline&quot;&gt;\((\eta_{*},\gamma_{*},\lambda_{*}) \in \mathbb{R}\times\mathbb{R}^{m}\times\mathbb{R}^{n}\)&lt;/span&gt; satisfying (non triviality)&lt;/em&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math display&quot;&gt;\[(\eta_{*},\gamma_{*},\lambda_{*})\neq 0,\]&lt;/span&gt; &lt;em&gt;as well as (positivity and complementary slackness)&lt;/em&gt;: &lt;span class=&quot;math display&quot;&gt;\[\eta_{*}=0\; \textrm{or}\; 1,\, \gamma_{*}\geq 0, \,\langle\gamma_{*},g(x_{*})\rangle=0,\]&lt;/span&gt; &lt;em&gt;and (maximization condition)&lt;/em&gt;, &lt;span class=&quot;math inline&quot;&gt;\(\forall x \in S\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[\eta_{*} f(x)-\langle\gamma_{*},g(x)\rangle-\langle\lambda_{*},h(x)\rangle\leq \eta_{*} f(x_{*})-\langle\gamma_{*},g(x_{*})\rangle-\langle\lambda_{*},h(x_{*})\rangle=\eta_{*} f(x_{*}).\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math inline&quot;&gt;\({\scriptstyle \blacksquare}\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The proof of this proposition entails the analysis of the convex cone: &lt;span class=&quot;math display&quot;&gt;\[C=\{(f(x)-\delta,g(x)+\Delta,h(x)): \delta \geq 0,\Delta \geq 0, x\in S\},\]&lt;/span&gt; around &lt;span class=&quot;math inline&quot;&gt;\(z_{*}=(f(x_{*}),0,0)\)&lt;/span&gt;, which must lie on its boundary. One then uses the fact that there must exist a vector at &lt;span class=&quot;math inline&quot;&gt;\(z_{*}\)&lt;/span&gt; that points towards the exterior of &lt;span class=&quot;math inline&quot;&gt;\(C\)&lt;/span&gt; and such that the scalar product of this vector with any vector &lt;span class=&quot;math inline&quot;&gt;\(z-z_{*}\)&lt;/span&gt; (where &lt;span class=&quot;math inline&quot;&gt;\(z\)&lt;/span&gt; is in &lt;span class=&quot;math inline&quot;&gt;\(C\)&lt;/span&gt;) is negative.&lt;/p&gt;
&lt;h3 id=&quot;first-order-condition&quot;&gt;First order condition&lt;/h3&gt;
&lt;p&gt;In the above theorem, the usual stationarity condition (first order condition) is replaced by a maximization condition. It is clear that if &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt; is in the interior of &lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt; and that &lt;span class=&quot;math inline&quot;&gt;\(f\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(g\)&lt;/span&gt; are differentiable at &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt;, the maximization condition implies: &lt;span class=&quot;math display&quot;&gt;\[\eta_{*} \nabla f(x)-\langle\gamma_{*},\nabla g(x)\rangle-\langle\lambda_{*},\nabla h(x)\rangle=0.\]&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;sufficiency&quot;&gt;Sufficiency&lt;/h3&gt;
&lt;p&gt;When &lt;span class=&quot;math inline&quot;&gt;\(\eta_{*}=1\)&lt;/span&gt; (the normal case), the maximization condition reads: &lt;span class=&quot;math display&quot;&gt;\[f(x)-\langle\gamma_{*},g(x)\rangle-\langle\lambda_{*},h(x)\rangle\leq f(x_{*}), \forall x \in S.\]&lt;/span&gt; Since &lt;span class=&quot;math inline&quot;&gt;\(\gamma_{*}\geq 0\)&lt;/span&gt;, we have &lt;span class=&quot;math inline&quot;&gt;\(\langle\gamma_{*},g(x)\rangle\leq 0\)&lt;/span&gt; whenever &lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt; satisfies the inequality constraint &lt;span class=&quot;math inline&quot;&gt;\(g(x)\leq 0\)&lt;/span&gt;. In addition, under the set of constraints, &lt;span class=&quot;math inline&quot;&gt;\(h(x)=0\)&lt;/span&gt;. We can thus conclude that: &lt;span class=&quot;math display&quot;&gt;\[f(x) \leq f(x_{*}), \forall x \in S,\, g(x)\leq 0,\, h(x)=0,\]&lt;/span&gt; and we can conclude that &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt; is optimum, i.e. the conditions in the theorem are also sufficient.&lt;/p&gt;
&lt;h3 id=&quot;slater-condition&quot;&gt;Slater condition&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Theorem (Slater conditions)&lt;/strong&gt;: &lt;em&gt;Assume that there exists a strictly admissible point &lt;span class=&quot;math inline&quot;&gt;\(x_{0}\)&lt;/span&gt; for &lt;span class=&quot;math inline&quot;&gt;\(P\)&lt;/span&gt;, i.e.&lt;/em&gt;: &lt;span class=&quot;math display&quot;&gt;\[x_{0}\in \text{int}S,\, g(x_{0})&amp;lt;0,\, h(x_{0})=0,\]&lt;/span&gt; &lt;em&gt;and the affine functions of the equality constraints are independent. Then the multiplier of the Kuhn-Tucker Theorem satisfies &lt;span class=&quot;math inline&quot;&gt;\(\eta_{*}=1\)&lt;/span&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math inline&quot;&gt;\({\scriptstyle \blacksquare}\)&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;saddle-point-property&quot;&gt;Saddle point property&lt;/h3&gt;
&lt;p&gt;Assume &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\((1,\gamma_{*},\lambda_{*})\)&lt;/span&gt; are the multiplier of problem &lt;span class=&quot;math inline&quot;&gt;\(P\)&lt;/span&gt;. The maximization condition in the Kuhn-Tucker theorem reads: &lt;span class=&quot;math display&quot;&gt;\[f(x)-\langle\gamma_{*},g(x)\rangle-\langle\lambda_{*},h(x)\rangle\leq f(x_{*})-\langle\gamma_{*},g(x_{*})\rangle-\langle\lambda_{*},h(x_{*})\rangle=f(x_{*}), \forall x \in S.\]&lt;/span&gt; Now, since &lt;span class=&quot;math inline&quot;&gt;\(\gamma_{*}\geq 0\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(g(x_{*})\leq 0\)&lt;/span&gt;, we have &lt;span class=&quot;math inline&quot;&gt;\(\langle\gamma,g(x_{*})\rangle\geq 0\)&lt;/span&gt; for all &lt;span class=&quot;math inline&quot;&gt;\(\gamma\geq 0\)&lt;/span&gt; with equality for &lt;span class=&quot;math inline&quot;&gt;\(\gamma_{*}\)&lt;/span&gt; (complementary slackness). We also have &lt;span class=&quot;math inline&quot;&gt;\(\langle\lambda,h(x_{*})\rangle=0\)&lt;/span&gt;. As a result we have: &lt;span class=&quot;math display&quot;&gt;\[f(x)-\langle\gamma_{*},g(x)\rangle-\langle\lambda_{*},h(x)\rangle\leq f(x_{*})\leq f(x_{*})-\langle\gamma,g(x_{*})\rangle-\langle\lambda,h(x_{*})\rangle,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\forall x \in S,\, \gamma \geq 0,\, \lambda.\]&lt;/span&gt; This is the famous saddle point property for the Lagrangian of the constrained optimization problem.&lt;/p&gt;
&lt;h3 id=&quot;multipliers-as-derivatives-of-the-value-function&quot;&gt;Multipliers as derivatives of the value function&lt;/h3&gt;
&lt;p&gt;One can consider the following maximization problem, noted &lt;span class=&quot;math inline&quot;&gt;\(P(\alpha,\beta)\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[\underset{x}{\text{max}} \; f(x)\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[x \in S,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[h(x)=\beta,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[g(x)\leq \alpha.\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Theorem&lt;/strong&gt;: &lt;em&gt;Assuming there is a solution &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt; to problem &lt;span class=&quot;math inline&quot;&gt;\(P\)&lt;/span&gt; where the Slater condition is satisfied. Define &lt;span class=&quot;math inline&quot;&gt;\(V(\alpha,\beta)\)&lt;/span&gt; as the value function of &lt;span class=&quot;math inline&quot;&gt;\(P(\alpha,\beta)\)&lt;/span&gt;. Then, &lt;span class=&quot;math inline&quot;&gt;\(V(\cdot,\cdot)\)&lt;/span&gt; is concave with values in &lt;span class=&quot;math inline&quot;&gt;\([-\infty,+\infty)\)&lt;/span&gt;. The vector &lt;span class=&quot;math inline&quot;&gt;\((1,\gamma,\lambda)\)&lt;/span&gt; is a multiplier associated to &lt;span class=&quot;math inline&quot;&gt;\(x_{*}\)&lt;/span&gt; if and only if &lt;span class=&quot;math inline&quot;&gt;\((\gamma,\lambda)\)&lt;/span&gt; is such that&lt;/em&gt;: &lt;span class=&quot;math display&quot;&gt;\[V(\alpha,\beta)\leq V(0,0)+\langle\gamma,\alpha\rangle+\langle\lambda,\beta\rangle.\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math inline&quot;&gt;\({\scriptstyle \blacksquare}\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The vector &lt;span class=&quot;math inline&quot;&gt;\((\gamma,\lambda)\)&lt;/span&gt; is called the superdifferential of the concave value function at &lt;span class=&quot;math inline&quot;&gt;\((0,0)\)&lt;/span&gt;. If &lt;span class=&quot;math inline&quot;&gt;\(V(\cdot,\cdot)\)&lt;/span&gt; is differentiable, &lt;span class=&quot;math inline&quot;&gt;\(\gamma\)&lt;/span&gt; is the partial derivative with respect to &lt;span class=&quot;math inline&quot;&gt;\(\alpha\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt; is the partial derivative with respect to &lt;span class=&quot;math inline&quot;&gt;\(\beta\)&lt;/span&gt;.&lt;/p&gt;
&lt;h3 id=&quot;remark&quot;&gt;Remark&lt;/h3&gt;
&lt;p&gt;The most confusing aspect in the multiplier rule is perhaps the choice of the sign of the multiplier in the case of inequality constraints. In other words, how should we choose to formulate the Lagrangian? The logic is as follows. When the inequality constraint is of the form &lt;span class=&quot;math inline&quot;&gt;\(g(x)\leq 0\)&lt;/span&gt; and the problem is a maximization one, the multiplier rule should be that at the optimum, increasing &lt;span class=&quot;math inline&quot;&gt;\(f\)&lt;/span&gt; should require increasing &lt;span class=&quot;math inline&quot;&gt;\(g\)&lt;/span&gt;. Gradients therefore have to be colinear (up to the adjustment for the equality constraints) with a positive constant of proportionality. In the expression below: &lt;span class=&quot;math display&quot;&gt;\[\nabla f(x)=\langle\gamma_{*},\nabla g(x)\rangle+\langle\lambda_{*},\nabla h(x)\rangle,\]&lt;/span&gt; &lt;span class=&quot;math inline&quot;&gt;\(\gamma\)&lt;/span&gt; should be positive. This pins down the form of the Lagrangian. Should the constraint be &lt;span class=&quot;math inline&quot;&gt;\(g(x)\geq 0\)&lt;/span&gt;, the sign of &lt;span class=&quot;math inline&quot;&gt;\(\gamma\)&lt;/span&gt; would have to be reversed.&lt;/p&gt;
&lt;h3 id=&quot;envelope-theorem&quot;&gt;Envelope Theorem&lt;/h3&gt;
&lt;p&gt;The penultimate section gives the derivatives of the value function with respect to the parameters of the constraint. One can understand this rule adapting an argument usually coined the envelope theorem. The envelope theorem concerns the maximization problem:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math display&quot;&gt;\[\underset{x}{\text{max}} \; f(x,t)\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[x \in S,\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; is for instance a real parameter, &lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt; is a convex subset of &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}\)&lt;/span&gt; (say) and &lt;span class=&quot;math inline&quot;&gt;\(f\)&lt;/span&gt; is assumed continuously differentiable in both variables. Whenever this problem has an interior solution (i.e. in the interior of &lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt;) &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(t)\)&lt;/span&gt; for &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; in an interval &lt;span class=&quot;math inline&quot;&gt;\(I=]t_{0},t_{1}[\)&lt;/span&gt;, then, the value function attached to this problem satisfies (assuming this value function is differentiable)&lt;a href=&quot;#fn1&quot; class=&quot;footnote-ref&quot; id=&quot;fnref1&quot; role=&quot;doc-noteref&quot;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;: &lt;span class=&quot;math display&quot;&gt;\[V&amp;#39;(t)=\frac{\partial f}{\partial t}(x^{*}(t),t),\]&lt;/span&gt; in this interval. In other words, the derivative of the value function can be computed as if the command was fixed at &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(t)\)&lt;/span&gt; in the marginal experiment. Indeed, we have: &lt;span class=&quot;math display&quot;&gt;\[\frac{\partial f}{\partial x}(x^{*}(t),t)=0,\]&lt;/span&gt; so that this term drops out in the variation of &lt;span class=&quot;math inline&quot;&gt;\(f\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[dV=\frac{\partial f}{\partial x}(x^{*}(t),t)dx+\frac{\partial f}{\partial t}(x^{*}(t),t)dt.\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The envelope theorem derives its name from the geometric situation. For each &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;, the function &lt;span class=&quot;math inline&quot;&gt;\(f(\cdot,t)\)&lt;/span&gt; corresponds to a curve &lt;span class=&quot;math inline&quot;&gt;\({\cal C}_{t}\)&lt;/span&gt;. The curve corresponding to &lt;span class=&quot;math inline&quot;&gt;\(V(\cdot)\)&lt;/span&gt; is the upper envelope of the &lt;span class=&quot;math inline&quot;&gt;\({\cal C}_{t}\)&lt;/span&gt;’s. Now the tangent to the upper envelope at point &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; is equal to the tangent to the supporting curve &lt;span class=&quot;math inline&quot;&gt;\({\cal C}_{t}\)&lt;/span&gt; at this same point.&lt;/p&gt;
&lt;p&gt;Applied to the constrained optimization context, this means that we can evaluate the change in the value function when constraints change by choosing a second best candidate to the choice of &lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt;. This second best should make full use of the relaxation of the constraints however. The reasoning is sketched below.&lt;/p&gt;
&lt;p&gt;Let &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(\alpha,\beta)\)&lt;/span&gt; be the optimal solution as a function of parameters. Consider a small change from &lt;span class=&quot;math inline&quot;&gt;\((0,0)\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\((\alpha,\beta)\)&lt;/span&gt;. We can decompose the change in the value function as follows. We move the choice of &lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt; from &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(0,0)\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\(\hat{x}(\alpha,\beta)\)&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\hat{x}(\alpha,\beta)\)&lt;/span&gt; is built to keep saturated constraints satisfied for the new parameters &lt;span class=&quot;math inline&quot;&gt;\((\alpha,\beta)\)&lt;/span&gt; (I write the change in &lt;span class=&quot;math inline&quot;&gt;\(g\)&lt;/span&gt; as if all inequality constraints were saturated; one should in fact keep track of the indices of saturated constraints but the argument goes through unchanged, using the slackness condition in the last step below): &lt;span class=&quot;math display&quot;&gt;\[\langle\nabla_{x^{*}(0,0)}g,\hat{x}(\alpha,\beta)-x^{*}(0,0)\rangle=\alpha,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\langle\nabla_{x^{*}(0,0)}h,\hat{x}(\alpha,\beta)-x^{*}(0,0)\rangle=\beta.\]&lt;/span&gt; We then move from &lt;span class=&quot;math inline&quot;&gt;\(\hat{x}(\alpha,\beta)\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(\alpha,\beta)\)&lt;/span&gt;. Both points &lt;span class=&quot;math inline&quot;&gt;\(\hat{x}(\alpha,\beta)\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(\alpha,\beta)\)&lt;/span&gt; satisfy the constraints &lt;span class=&quot;math inline&quot;&gt;\(g(x)\leq\alpha\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(h(x)=\beta\)&lt;/span&gt;, and given that &lt;span class=&quot;math inline&quot;&gt;\(x^{*}(\alpha,\beta)\)&lt;/span&gt; is optimal under the constraint, the change in the value of &lt;span class=&quot;math inline&quot;&gt;\(f\)&lt;/span&gt; along this move is negligible. The change in the value function can thus be computed as: &lt;span class=&quot;math display&quot;&gt;\[\langle\nabla_{x^{*}(0,0)}f,\hat{x}(\alpha,\beta)-x^{*}(0,0)\rangle.\]&lt;/span&gt; Using the multiplier rule to replace &lt;span class=&quot;math inline&quot;&gt;\(\nabla_{x^{*}(0,0)}f\)&lt;/span&gt; by &lt;span class=&quot;math inline&quot;&gt;\(\langle\gamma_{*},\nabla g(x)\rangle+\langle\lambda_{*},\nabla h(x)\rangle\)&lt;/span&gt;, this leads to (after some easy calculations): &lt;span class=&quot;math display&quot;&gt;\[\langle\nabla_{x^{*}(0,0)}f,\hat{x}(\alpha,\beta)-x^{*}(0,0)\rangle=\langle\gamma,\alpha\rangle+\langle\lambda,\beta\rangle.\]&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2016-12-16-optimization.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;section class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot; role=&quot;doc-endnote&quot;&gt;&lt;p&gt;For a rigorous discussion of envelope theorems, you might want to check Milgrom-Segal, 2002, ‘Envelope Theorems for Arbitrary Choice Sets’, &lt;em&gt;Econometrica&lt;/em&gt; 70 (2):583-601.&lt;a href=&quot;#fnref1&quot; class=&quot;footnote-back&quot; role=&quot;doc-backlink&quot;&gt;↩︎&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
</description>
				<pubDate>Fri, 16 Dec 2016 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2016/12/16/optimization.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2016/12/16/optimization.html</guid>
			</item>
		
			<item>
				<title>Solution of the Exam (2016)</title>
				<description>&lt;p&gt;&lt;em&gt;This is the solution of the exam for the 2016 ensae course.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;exercise-1&quot;&gt;Exercise 1&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;The program is: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{min}} \; \pi&amp;#39; \Sigma \pi.\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;(\mu-re)=\mu_{p}-r.\]&lt;/span&gt; Lagrangian: &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39; \Sigma \pi-\gamma_{\mu_{p}-r}\pi&amp;#39;(\mu-re),\]&lt;/span&gt; which leads to the system (first order condition, constraint): &lt;span class=&quot;math display&quot;&gt;\[\Sigma \pi=\gamma_{\mu_{p}-r}(\mu-re),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;(\mu-re)=\mu_{p}-r.\]&lt;/span&gt; Solution: &lt;span class=&quot;math display&quot;&gt;\[\gamma_{\mu_{p}-r}=\frac{\mu_{p}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi_{\mu_{p}-r}=\frac{\mu_{p}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}\Sigma^{-1}(\mu-re).\]&lt;/span&gt; The shape of the efficient frontier is linear.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We must have: &lt;span class=&quot;math display&quot;&gt;\[\mu^{*}-r=\frac{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}{e&amp;#39;\Sigma^{-1}(\mu-re)}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It is the efficient frontier of portfolios invested on risky assets only (no cash).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adding an asset to the investment universe improves possibilities. The efficient frontier attached to a narrower universe is thus necessarily below that of the full universe. In our case, the risky asset efficient frontier is below the full efficient frontier. Both frontiers meet at &lt;span class=&quot;math inline&quot;&gt;\(\pi^{*}\)&lt;/span&gt;. They are tangent to each other at &lt;span class=&quot;math inline&quot;&gt;\(\pi^{*}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This follows from the formula for &lt;span class=&quot;math inline&quot;&gt;\(\mu^{*}-r\)&lt;/span&gt;, that of &lt;span class=&quot;math inline&quot;&gt;\(\pi_{\mu_{p}-r}\)&lt;/span&gt; and that of &lt;span class=&quot;math inline&quot;&gt;\(\gamma_{\mu_{p}-r}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math inline&quot;&gt;\(\Sigma\pi_{\mu_{p}-r}\)&lt;/span&gt; is a vector where component &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt; measures the covariance of asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt; with the return of portfolio &lt;span class=&quot;math inline&quot;&gt;\(p\)&lt;/span&gt;. It is by construction the derivative of portfolio with respect to a change in position. Therefore, the marginal change in risk brought up by a change in position &lt;span class=&quot;math inline&quot;&gt;\(\pi_{\mu_{p}-r,i}\)&lt;/span&gt; is the covariance of the corresponding return with the portfolio return. The first order condition says that at the optimum, these marginal changes in risk must be proportional to the excess returns. Covariances need to be proportional to excess returns. The gradient of the risk function must be orthogonal to the level sets induced by the constraint.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[\Sigma\pi=\frac{\mu_{p}-r}{\mu^{*}-r}\frac{\mu^{*}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}(\mu-re),\]&lt;/span&gt; and this translates into (using question 5.): &lt;span class=&quot;math display&quot;&gt;\[\Sigma\pi^{*}=\frac{\mu^{*}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}(\mu-re).\]&lt;/span&gt; All first order conditions (i.e. for all excess return targets) boil down to the same one, which is the one of the tangent portfolio. Indeed, all investors apply the same trade-off.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[\Sigma\pi^{*}=\frac{\mu^{*}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}(\mu-re),\]&lt;/span&gt; and as a result: &lt;span class=&quot;math display&quot;&gt;\[\sigma^{*2}=\pi^{*&amp;#39;}\Sigma\pi^{*}=\frac{\mu^{*}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}(\mu^{*}-r).\]&lt;/span&gt; Combining the two relationships we get: &lt;span class=&quot;math display&quot;&gt;\[\frac{\Sigma\pi^{*}}{\sigma^{2*}}(\mu^{*}-r)=(\mu-r),\]&lt;/span&gt; i.e.: &lt;span class=&quot;math display&quot;&gt;\[\beta(\tilde{r}_{i},\tilde{r}^{*})(\mu^{*}-r)=(\mu-r).\]&lt;/span&gt; Beta is the coefficient of the regression of &lt;span class=&quot;math inline&quot;&gt;\(\tilde{r}_{i}\)&lt;/span&gt; on &lt;span class=&quot;math inline&quot;&gt;\(\tilde{r}^{*}\)&lt;/span&gt;. This relationship says that all expected excess returns of the asset are proportional to their beta with the market. In the excess return/beta space, all assets are on a line that goes through the origin.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If all investors share the same beliefs and only differ in their risk aversion parameters (within the above quadratic family of utility functions), they will all hold the tangent portfolio as their risky asset holding (although the proportion invested in the tangent portfolio will be different from one investor to the next). The aggregated risky asset portfolio is equal to the overall market and it must be the tangent portfolio. As a result, the beta relationship holds with the tangent portfolio being replaced by the market portfolio. This is the capm.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;exercise-2&quot;&gt;Exercise 2&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;The program is &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{min}} \; \pi&amp;#39; \Sigma \pi.\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;e=1.\]&lt;/span&gt; Lagrangian: &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39; \Sigma \pi-\gamma \pi&amp;#39;e,\]&lt;/span&gt; which leads to the system (first order condition, constraint): &lt;span class=&quot;math display&quot;&gt;\[\Sigma \pi=\gamma e,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi&amp;#39;e=1\]&lt;/span&gt; Solution: &lt;span class=&quot;math display&quot;&gt;\[\gamma=\frac{1}{e&amp;#39;\Sigma^{-1} e},\,\pi^{mv}=\frac{1}{e&amp;#39;\Sigma^{-1} e}\Sigma^{-1}e\,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pi^{mv}_{i}=\frac{\sigma_{i}^{-2}}{\sum_{i}^{n}\sigma_{i}^{-2}}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The vector of sensitivities has components: &lt;span class=&quot;math display&quot;&gt;\[s^{mv}_{i}=\frac{\sigma_{i}^{-1}}{\sum_{i}^{n}\sigma_{i}^{-2}}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For the profile of sensitivities to be flat, positions have to be proportional to &lt;span class=&quot;math inline&quot;&gt;\(1/\sigma_{i}\)&lt;/span&gt;. The full investment constraint then leads to:&lt;span class=&quot;math display&quot;&gt;\[\pi^{ew}_{i}=\frac{\sigma_{i}^{-1}}{\sum_{i}^{n}\sigma_{i}^{-1}}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Both portfolios are equal when all variances are equal.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We remember (see the previous exercise for instance) that: &lt;span class=&quot;math display&quot;&gt;\[\pi_{\mu_{p}-r}=\frac{\mu_{p}-r}{(\mu-re)&amp;#39;\Sigma^{-1}(\mu-re)}\Sigma^{-1}(\mu-re).\]&lt;/span&gt; This vector is proportional to the vector with components &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{i}^{-1}\)&lt;/span&gt; (use the diagonal structure of the covariance matrix and that of the returns). The sensitivity profile of &lt;span class=&quot;math inline&quot;&gt;\(\pi_{\mu_{p}-r}\)&lt;/span&gt; is thus constant.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The first order condition is, componentwise: &lt;span class=&quot;math display&quot;&gt;\[\sum_{j\neq i}\rho\sigma_{j}\sigma_{i}\pi_{j}+\sigma_{i}^{2}\pi_{i}=\gamma\lambda\sigma_{i}.\]&lt;/span&gt; One can write this as: &lt;span class=&quot;math display&quot;&gt;\[\sum_{j}\rho\sigma_{j}\sigma_{i}\pi_{j}+(1-\rho)\sigma_{i}^{2}\pi_{i}=\gamma\lambda\sigma_{i},\]&lt;/span&gt; which leads to (&lt;span class=&quot;math inline&quot;&gt;\(\sigma_{i}&amp;gt;0\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[\sum_{j}\rho\sigma_{j}\pi_{j}+(1-\rho)\sigma_{i}\pi_{i}=\gamma\lambda,\]&lt;/span&gt; since and we can deduce that &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{i}\pi_{i}\)&lt;/span&gt; is necessarily constant since &lt;span class=&quot;math inline&quot;&gt;\(\sum_{j}\rho\sigma_{j}\pi_{j}\)&lt;/span&gt; is itself constant. As a result, position &lt;span class=&quot;math inline&quot;&gt;\(\pi_{i}\)&lt;/span&gt; has to be inversely related to &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{i}\)&lt;/span&gt;. The sensitivity profile is as in 5..&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[\sigma_{p}^{2}(\pi)=\pi&amp;#39;\Sigma\pi,\]&lt;/span&gt; and thus: &lt;span class=&quot;math display&quot;&gt;\[\frac{\partial \sigma_{p}}{\partial \pi_{i}}=\frac{1}{\sigma_{p}}(\Sigma\pi)_{i}.\]&lt;/span&gt; Since: &lt;span class=&quot;math display&quot;&gt;\[\Sigma\pi=\gamma(\mu-re),\]&lt;/span&gt; we have: &lt;span class=&quot;math display&quot;&gt;\[\frac{\partial \sigma_{p}}{\partial \pi_{i}}=\frac{1}{\sigma_{p}}\gamma (\mu_{i}-r).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The function &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{p}(\pi)\)&lt;/span&gt; is homogenous of degree one, and therefore satisfies: &lt;span class=&quot;math display&quot;&gt;\[\sum_{i=1}^{N}\pi_{i}\frac{\partial \sigma_{p}}{\partial \pi_{i}}=\sigma_{p}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the context of question 6. we have: &lt;span class=&quot;math display&quot;&gt;\[\pi_{i}\propto\frac{1}{\sigma_{i}},\]&lt;/span&gt; and thus: &lt;span class=&quot;math display&quot;&gt;\[\pi_{i}\frac{\partial \sigma_{p}}{\partial \pi_{i}}\propto\frac{1}{\sigma_{i}}\frac{1}{\sigma_{p}}\gamma (\mu_{i}-r)\propto\frac{1}{\sigma_{i}} (\mu_{i}-r)=\text{constant}.\]&lt;/span&gt; Thus total contributions to risk are equalized.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mean-variance efficiency with cash naturally leads to diversified portfolios, in the sense of equally weighting sources of risk. Portfolio constraint such as the long only constraint might threaten diversification. This happens because of conflicts between objectives. Equalizing risk contributions looks like a very ad-hoc way of forcing diversification in portfolios.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;exercise-3&quot;&gt;Exercise 3&lt;/h2&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;The diffusions: &lt;span class=&quot;math display&quot;&gt;\[\frac{dP_{i,t}}{P_{i,t}}=d\log(P_{i,t})+\frac{1}{2}\xi_{i,t}^{2}dt,\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\frac{dV_{\pi,t}}{V_{\pi,t}}=d\log(V_{\pi,t})+\frac{1}{2}\xi_{\pi,t}^{2}dt,\]&lt;/span&gt; and drifts are: &lt;span class=&quot;math display&quot;&gt;\[r_{i,t}=\gamma_{i,t}+\frac{1}{2}\xi_{i,t}^{2},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[r_{\pi,t}=\gamma_{\pi,t}+\frac{1}{2}\xi_{\pi,t}^{2},\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[\frac{dV_{\pi,t}}{V_{\pi,t}}=\sum_{i=1}^{N}\pi_{i,t}\frac{dP_{i,t}}{P_{i,t}},\]&lt;/span&gt; from which we get: &lt;span class=&quot;math display&quot;&gt;\[d\log(V_{\pi,t})=\sum_{i=1}^{N}\pi_{i,t}d\log(P_{i,t})+\gamma^{*}_{\pi,t},\]&lt;/span&gt; with: &lt;span class=&quot;math display&quot;&gt;\[\gamma^{*}_{\pi,t}=\frac{1}{2}\left(\sum_{i=1}^{N}\pi_{i,t}\xi_{i,t}^{2}-\xi_{\pi,t}^{2}\right).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Subtract: &lt;span class=&quot;math display&quot;&gt;\[V_{\eta,t}=\sum_{i=1}^{N}\pi_{i,t}V_{\eta,t},\]&lt;/span&gt; from the previous equation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Apply the previous result with &lt;span class=&quot;math inline&quot;&gt;\(\eta=\pi\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;On can write: &lt;span class=&quot;math display&quot;&gt;\[\gamma^{*}_{\pi,t}=-\sum_{i=1}^{N}\pi_{i,t}\frac{d(P_{i,t}/V_{\pi,t})}{P_{i,t}/V_{\pi,t}}+\frac{1}{2}\sum_{i=1}^{N}\pi_{i}d[\log(P_{i,.}/V_{\pi,.})]_{t}.\]&lt;/span&gt; Now, consider the portfolio return identity: &lt;span class=&quot;math display&quot;&gt;\[\frac{dV_{\pi,t}}{V_{\pi,t}}=\sum_{i=1}^{N}\pi_{i,t}\frac{dP_{i,t}}{P_{i,t}}.\]&lt;/span&gt; One can rewrite it against any numeraire. In particular, we can choose &lt;span class=&quot;math inline&quot;&gt;\(V_{\pi}\)&lt;/span&gt; as the numeraire. It then reads: &lt;span class=&quot;math display&quot;&gt;\[\frac{d(V_{\pi,t}/V_{\pi,t})}{V_{\pi,t}/V_{\pi,t}}=0=\sum_{i=1}^{N}\pi_{i,t}\frac{d(P_{i,t}/V_{\pi,t})}{P_{i,t}/V_{\pi,t}}.\]&lt;/span&gt; We thus obtain: &lt;span class=&quot;math display&quot;&gt;\[\gamma^{*}_{\pi,t}=\frac{1}{2}\sum_{i=1}^{N}\pi_{i}d[\log(P_{i,.}/V_{\pi,.})]_{t}\geq 0,\]&lt;/span&gt; with strict inequality if any of the &lt;span class=&quot;math inline&quot;&gt;\(\log(P_{i,.}/V_{\pi,.})\)&lt;/span&gt; is non deterministic.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Apply 3. with &lt;span class=&quot;math inline&quot;&gt;\(\eta=\mu\)&lt;/span&gt; and then use &lt;span class=&quot;math inline&quot;&gt;\(\mu_{i,t}=P_{i,t}/V_{\pi,t}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The log function is strictly concave (&lt;span class=&quot;math inline&quot;&gt;\(0\leq \lambda \leq 1,\, a&amp;gt;0,\, b&amp;gt;0\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[\log(\lambda a+(1-\lambda)b)\ge \lambda\log(a)+(1-\lambda)\log(b),\]&lt;/span&gt; with equality if and only if &lt;span class=&quot;math inline&quot;&gt;\(a=b\)&lt;/span&gt;, &lt;span class=&quot;math inline&quot;&gt;\(\lambda=0\)&lt;/span&gt; or &lt;span class=&quot;math inline&quot;&gt;\(\lambda=1\)&lt;/span&gt;. Taking two vectors &lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(y\)&lt;/span&gt; in the simplex and mixing them using &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;, and applying the above inequality, we get: &lt;span class=&quot;math display&quot;&gt;\[S(\lambda x+(1-\lambda)y)\geq \lambda S(x)+(1-\lambda)S(y),\]&lt;/span&gt; i.e. &lt;span class=&quot;math inline&quot;&gt;\(S(\cdot)\)&lt;/span&gt; is (strictly) concave. The first order condition characterizes the maximum of a concave function. One can verify that the gradient of &lt;span class=&quot;math inline&quot;&gt;\(S(\cdot)\)&lt;/span&gt; is zero for &lt;span class=&quot;math inline&quot;&gt;\(x=(1/N,\ldots,1/N)\)&lt;/span&gt;. Limiting behavior towards the edges of the simplex is trivial.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Under the assumption of the question, relative performance of &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; versus the market portfolio is driven by changes in &lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt;. Starting from &lt;span class=&quot;math inline&quot;&gt;\(x=(1/N,\ldots,1/N)\)&lt;/span&gt;, &lt;span class=&quot;math inline&quot;&gt;\(S\)&lt;/span&gt; can only decrease, so that portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; cannot beat the market portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[\log(V_{\pi,t}/V_{\mu,t})-\log(V_{\pi,t}/V_{\mu,t})=S(\mu_{t})-S(\mu_{0})+\int_{0}^{t}\gamma^{*}_{\pi,u}du,\]&lt;/span&gt; so that: &lt;span class=&quot;math display&quot;&gt;\[\log(V_{\pi,t}/V_{\mu,t})-\log(V_{\pi,t}/V_{\mu,t})\geq B-\text{max}(S)+\varepsilon t.\]&lt;/span&gt; Since the function &lt;span class=&quot;math inline&quot;&gt;\(S(\cdot)\)&lt;/span&gt; is bounded above, we can conclude that portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; will end up beating the market portfolio after a sufficiently long time: &lt;span class=&quot;math display&quot;&gt;\[t\geq \frac{\text{max}-B}{\varepsilon}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2016-12-15-solexam.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Thu, 15 Dec 2016 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2016/12/15/solexam.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2016/12/15/solexam.html</guid>
			</item>
		
			<item>
				<title>Exam (2016)</title>
				<description>&lt;p&gt;&lt;em&gt;This is the exam for the 2016 ensae course.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;exercise-1&quot;&gt;Exercise 1&lt;/h2&gt;
&lt;p&gt;We are in a static investment setup. The investment universe is made of cash (asset with index &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt;) earning a riskless rate &lt;span class=&quot;math inline&quot;&gt;\(r\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; risky assets with rates of return &lt;span class=&quot;math inline&quot;&gt;\((\tilde{r}_{i})_{i=1,\ldots,N}\)&lt;/span&gt;. The vector of risky asset risky is denoted &lt;span class=&quot;math inline&quot;&gt;\(\tilde{\pmb{r}}\)&lt;/span&gt; (size &lt;span class=&quot;math inline&quot;&gt;\((N,1)\)&lt;/span&gt;). Its mean is &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\mu}\)&lt;/span&gt; and its variance &lt;span class=&quot;math inline&quot;&gt;\(\Sigma\)&lt;/span&gt; is assumed to be positive definite (and therefore invertible).&lt;/p&gt;
&lt;p&gt;A portfolio is a vector of proportions. The proportion invested on cash is &lt;span class=&quot;math inline&quot;&gt;\(\pi_{0}\)&lt;/span&gt; and the vector of risky asset positions is &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}\)&lt;/span&gt; (size &lt;span class=&quot;math inline&quot;&gt;\((N,1)\)&lt;/span&gt;). The vector of size &lt;span class=&quot;math inline&quot;&gt;\((N,1)\)&lt;/span&gt; with all components equal to one is denoted &lt;span class=&quot;math inline&quot;&gt;\(\pmb{e}\)&lt;/span&gt;. A portfolio therefore satisfies: &lt;span class=&quot;math display&quot;&gt;\[\pi_{0}+\pmb{e}&amp;#39;\pmb{\pi}=1.\]&lt;/span&gt; We will assume &lt;span class=&quot;math inline&quot;&gt;\(\pmb{e}&amp;#39;\Sigma^{-1}(\pmb{\mu}-r\pmb{e})&amp;gt;0\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Given an excess return target &lt;span class=&quot;math inline&quot;&gt;\(\mu_{p}-r&amp;gt;0\)&lt;/span&gt;, find the risky portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}_{\mu_{p}-r}\)&lt;/span&gt; with minimum variance amongst portfolios that achieve the return target &lt;span class=&quot;math inline&quot;&gt;\(\mu_{p}-r&amp;gt;0\)&lt;/span&gt;. Let &lt;span class=&quot;math inline&quot;&gt;\(\gamma_{\mu_{p}-r}\)&lt;/span&gt; be the lagrange multiplier in the optimization problem. Changing &lt;span class=&quot;math inline&quot;&gt;\(\mu_{\mu_{p}-r}\)&lt;/span&gt; and therefore &lt;span class=&quot;math inline&quot;&gt;\(\gamma_{\mu_{p}-r}\)&lt;/span&gt; allows to map the efficient frontier of the complete problem (cash plus risky asset). What is the geometrical shape of this curve in the (x=standard deviation,y=excess-return) space?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that for a certain value of &lt;span class=&quot;math inline&quot;&gt;\(\mu_{p}\)&lt;/span&gt;, say &lt;span class=&quot;math inline&quot;&gt;\(\mu^{*}\)&lt;/span&gt;, the optimal risky asset portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{*}\)&lt;/span&gt; is fully invested, i.e. &lt;span class=&quot;math inline&quot;&gt;\(\pmb{e}&amp;#39;\pmb{\pi}^{*}=1\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What is the definition of the risky assets efficient frontier?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Why is the risky assets efficient frontier always below the efficient frontier of the complete problem? Describe the overall geometric situation, including the relative position of the different curves at &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{*}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi}_{\mu_{p}-r}=\frac{\mu_{p}-r}{\mu^{*}-r}\pmb{\pi}^{*}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What is the interpretation of the quantity &lt;span class=&quot;math inline&quot;&gt;\(\Sigma\pmb{\pi}_{\mu_{p}-r}\)&lt;/span&gt;? Consider the first order condition satisfied by the Lagrangian at the optimum of the problem described in question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. What is its marginalist interpretation?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using the proportionality condition established in question &lt;span class=&quot;math inline&quot;&gt;\(5\)&lt;/span&gt;, show that the first order condition for an investor with excess return target &lt;span class=&quot;math inline&quot;&gt;\(\mu_{p}-r&amp;gt;0\)&lt;/span&gt; is in fact equivalent to that of an investor with excess return target &lt;span class=&quot;math inline&quot;&gt;\(\mu^{*}-r\)&lt;/span&gt;. As a consequence, all investors actually apply the same trade-off?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[\mu_{i}-r=\beta(\tilde{r}_{i},\tilde{r}^{*})(\mu^{*}-r),\]&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\tilde{r}^{*}=\pmb{\pi}^{*\prime}\tilde{\pmb{r}}\)&lt;/span&gt;. Give the explicit value of &lt;span class=&quot;math inline&quot;&gt;\(\beta(\tilde{r}_{i},\tilde{r}^{*})\)&lt;/span&gt; as well as its interpretation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Suppose the economy is composed of mean-variance investors who share the same return and risk expectations but have different levels of risk aversion. The risky asset supply is assumed exogenous. It must be held by the set of investors. The overall portfolio is called the market portfolio. Using the above results, explain how the excess return of individual assets relate to the excess return of the market portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;exercice-2&quot;&gt;Exercice 2&lt;/h2&gt;
&lt;p&gt;The setup is that of the previous exercise. Assumptions on risk and expected returns are specialized further. Tildas are used to denote random variables.&lt;/p&gt;
&lt;p&gt;Assume the risky asset returns satisfy: &lt;span class=&quot;math display&quot;&gt;\[\tilde{r}_{i}=\mu_{i}+\sigma_{i}\tilde{\epsilon}_{i},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\((\tilde{\epsilon}_{i})_{i=1,\ldots,N}\)&lt;/span&gt; are i.i.d., with zero mean and variance equal to &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. As usual, the cash return is denoted &lt;span class=&quot;math inline&quot;&gt;\(r\)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Within questions &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\(4\)&lt;/span&gt;, portfolios are assumed to be fully invested on risky assets (i.e. &lt;span class=&quot;math inline&quot;&gt;\(\pmb{e}&amp;#39;\pmb{\pi}=1\)&lt;/span&gt;).&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Determine the vector of weights &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{mv}\)&lt;/span&gt; of the minimum variance portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For a given portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}\)&lt;/span&gt;, the profile of sensivities to risk is the vector of formal derrivatives of &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}&amp;#39;\tilde{\pmb{r}}\)&lt;/span&gt; with respect to &lt;span class=&quot;math inline&quot;&gt;\((\tilde{\epsilon}_{i})_{i=1,\ldots,N}\)&lt;/span&gt;. Compute the profile of sensitivities of &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{mv}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A portfolio is more diversified if its sensitivity profile constant. I note &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{ew}\)&lt;/span&gt; the portfolio with a constant sensitivity profile. Compute &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{ew}\)&lt;/span&gt; and give its variance.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Under what condition do we have &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{mv}=\pmb{\pi}^{ew}\)&lt;/span&gt;? Why is &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}^{mv}\)&lt;/span&gt; usually underdiversified?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I now consider portfolios that are invested on all assets, i.e. including cash (&lt;span class=&quot;math inline&quot;&gt;\(\pi_{0}+\pmb{e}&amp;#39;\pmb{\pi}=1\)&lt;/span&gt;). In this context, risk can be reduced witout limit by reducing the weight of risky assets (&lt;span class=&quot;math inline&quot;&gt;\(\pmb{e}&amp;#39;\pmb{\pi}\)&lt;/span&gt;).&lt;/p&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Assuming &lt;span class=&quot;math inline&quot;&gt;\(\mu_{i}-r=\lambda \sigma_{i}&amp;gt;0\)&lt;/span&gt; (the risk structure is unchanged), find the efficient portfolio with target excess return &lt;span class=&quot;math inline&quot;&gt;\(\mu_{p}-r&amp;gt;0\)&lt;/span&gt;. Give its sensitivity profile and comment.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We now consider a more general condition where &lt;span class=&quot;math inline&quot;&gt;\(\text{Cov}(\tilde{r}_{i},\tilde{r}_{j})=\rho \sigma_{i}\sigma_{j},\; i\neq j\)&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt; neither &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; nor &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; (homogenous correlations). The assumption &lt;span class=&quot;math inline&quot;&gt;\(\mu_{i}-r=\lambda \sigma_{i}&amp;gt;0\)&lt;/span&gt; is maintained.&lt;/p&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;Find the efficient portfolio with target excess return &lt;span class=&quot;math inline&quot;&gt;\(\mu_{p}-r&amp;gt;0\)&lt;/span&gt;. Give its sensitivity profile and comment. Compare with question 5.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For a given portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt;, I note &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{p}(\pi)\)&lt;/span&gt; its standard deviation. The derivative &lt;span class=&quot;math inline&quot;&gt;\(\partial{\sigma_{p}}/\partial \pi_{i}\)&lt;/span&gt; is called the marginal contribution to risk of position &lt;span class=&quot;math inline&quot;&gt;\(\pi_{i}\)&lt;/span&gt;. The total contribution to risk of position &lt;span class=&quot;math inline&quot;&gt;\(\pi_{i}\)&lt;/span&gt; is defined as &lt;span class=&quot;math inline&quot;&gt;\(\pi_{i}\partial{\sigma_{p}}/\partial \pi_{i}\)&lt;/span&gt;.&lt;/p&gt;
&lt;ol start=&quot;7&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;In the context of mean-variance optimization (with cash and risky assets) and a target excess return, what relation is satisfied by the marginal contribution to risk (use the first order condition).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that the total contributions to risk sum to the standard error: &lt;span class=&quot;math display&quot;&gt;\[\sum_{i=1}^{N}\pi_{i}\frac{\partial{\sigma_{p}}}{\partial \pi_{i}}=\sigma_{p}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that in the context of question &lt;span class=&quot;math inline&quot;&gt;\(6\)&lt;/span&gt;, total contributions to risk are equal.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some people propose to build portfolios by equalizing total contributions to risk. What do you think of this principle? Is this a credible diversification principle?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;exercice-3&quot;&gt;Exercice 3&lt;/h2&gt;
&lt;p&gt;We have a multivariate Brownian motion &lt;span class=&quot;math inline&quot;&gt;\((B_{t})_{t \in \mathbb{R}_{+}}\)&lt;/span&gt; of size &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt;. Its covariance matrix is the identity.&lt;/p&gt;
&lt;p&gt;There are &lt;span class=&quot;math inline&quot;&gt;\(N\)&lt;/span&gt; risky assets with dynamics given by (for &lt;span class=&quot;math inline&quot;&gt;\(i=1,\ldots,N\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[d\log(P_{i,t})=\gamma_{i,t}dt+\xi_{i,t}dB_{t},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\xi_{i,t}\)&lt;/span&gt; is of size &lt;span class=&quot;math inline&quot;&gt;\((1,N)\)&lt;/span&gt;. The covariance matrix of the risky assets is assumed invertible.&lt;/p&gt;
&lt;p&gt;All portfolios are assumed fully invested on risky assets, with all weights strictly positive. It is given by a set of weights &lt;span class=&quot;math inline&quot;&gt;\(\pi_{t}=(\pi_{i,t})_{i=1,\ldots,N}\)&lt;/span&gt;. The value process is &lt;span class=&quot;math inline&quot;&gt;\(V_{\pi,t}\)&lt;/span&gt;. Its dynamics is: &lt;span class=&quot;math display&quot;&gt;\[d\log(V_{\pi,t})=\gamma_{\pi,t}dt+\xi_{\pi,t}dB_{t}.\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The market is composed of one unit of each asset &lt;span class=&quot;math inline&quot;&gt;\(i\)&lt;/span&gt;. The total value of the market is thus: &lt;span class=&quot;math display&quot;&gt;\[V_{\mu,t}=\sum_{i=1}^{N}P_{i,t}.\]&lt;/span&gt; It is the value of a portfolio characterized by weights &lt;span class=&quot;math inline&quot;&gt;\(\mu_{t}=(\mu_{i,t})_{i=1,\ldots,N}\)&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\mu_{i,t}=P_{i,t}/V_{\mu,t}\)&lt;/span&gt;. We will assume that all these weights are strictly positive for almost all price trajectories (i.e. don’t shy away from dividing by the weights).&lt;/p&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;p&gt;Give the diffusions followed by &lt;span class=&quot;math inline&quot;&gt;\(dP_{i,t}/P_{i,t}\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(dV_{\pi,t}/V_{\pi,t}\)&lt;/span&gt;. Their respective drifts will be noted &lt;span class=&quot;math inline&quot;&gt;\(r_{i,t}\)&lt;/span&gt; et &lt;span class=&quot;math inline&quot;&gt;\(r_{\pi,t}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[d\log(V_{\pi,t})=\sum_{i=1}^{N}\pi_{i,t}d\log(P_{i,t})+\gamma^{*}_{\pi,t}dt,\]&lt;/span&gt; and give the expression for &lt;span class=&quot;math inline&quot;&gt;\(\gamma^{*}_{\pi,t}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Suppose we have another portfolio &lt;span class=&quot;math inline&quot;&gt;\(\eta_{t}=(\eta_{i,t})_{i=1,\ldots,N}\)&lt;/span&gt;, with value &lt;span class=&quot;math inline&quot;&gt;\(V_{\eta,t}\)&lt;/span&gt;, show that: &lt;span class=&quot;math display&quot;&gt;\[d\log(V_{\pi,t}/V_{\eta,t})=\sum_{i=1}^{N}\pi_{i,t}d\log(P_{i,t}/V_{\eta,t})+\gamma^{*}_{\pi,t}dt.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[\gamma^{*}_{\pi,t}dt=-\sum_{i=1}^{N}\pi_{i,t}d\log(P_{i,t}/V_{\pi,t}).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[\gamma^{*}_{\pi,t}dt \geq 0.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show that: &lt;span class=&quot;math display&quot;&gt;\[d\log(V_{\pi,t}/V_{\mu,t})=\sum_{i=1}^{N}\pi_{i,t}d\log(\mu_{i,t})+\gamma^{*}_{\pi,t}dt.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We now choose for &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; the equally weighted portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi_{i,t}=1/N\)&lt;/span&gt;.Given a vector &lt;span class=&quot;math inline&quot;&gt;\(x=(x_{i})_{i=1,\ldots,N}\)&lt;/span&gt; with strictly positive components, I note: &lt;span class=&quot;math display&quot;&gt;\[S(x)=\frac{1}{N}\sum_{i=1}^{N}\log(x_{i}).\]&lt;/span&gt; Show that &lt;span class=&quot;math inline&quot;&gt;\(S(\cdot)\)&lt;/span&gt; is concave, has a maximum is &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt;, and tends to &lt;span class=&quot;math inline&quot;&gt;\(-\infty\)&lt;/span&gt; towards the edges of the simplex (&lt;span class=&quot;math inline&quot;&gt;\(\{x \in \mathbb{R}^{N}_{+}|\forall i, x_{i}&amp;gt;0,\sum_{i=1}^{N}x_{i}=1\}\)&lt;/span&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Supposing &lt;span class=&quot;math inline&quot;&gt;\(\int_{0}^{t}\gamma^{*}_{\pi,u}du\)&lt;/span&gt; is negligible, comment on the performance of &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; relative to &lt;span class=&quot;math inline&quot;&gt;\(\mu\)&lt;/span&gt; as a fonction of the evolution of &lt;span class=&quot;math inline&quot;&gt;\(S(\cdot)\)&lt;/span&gt; between &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; et &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;. If portfolio &lt;span class=&quot;math inline&quot;&gt;\(\mu\)&lt;/span&gt; is equally weighted at date &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt;, can portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt; outperform the market portfolio?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assuming that we can ensure that &lt;span class=&quot;math inline&quot;&gt;\(S(\mu_{t}) \geq B\)&lt;/span&gt; (&lt;span class=&quot;math inline&quot;&gt;\(B\)&lt;/span&gt; est une constante) and &lt;span class=&quot;math inline&quot;&gt;\(\gamma^{*}_{\pi,t}\geq \epsilon &amp;gt;0\)&lt;/span&gt; on almost all price trajectories, show that the equally weighted portfolio outperforms the market portfolio almost surely in finite time.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2016-11-29-exam.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Tue, 29 Nov 2016 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2016/11/29/exam.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2016/11/29/exam.html</guid>
			</item>
		
			<item>
				<title>Solutions to Exercises</title>
				<description>&lt;p&gt;&lt;em&gt;This post collects the solutions to &lt;a href=&quot;/ensae/2015/10/15/exercises.html&quot;&gt;the exercises&lt;/a&gt; of the ENSAE course.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;mean-variance&quot;&gt;Mean-Variance&lt;/h2&gt;
&lt;h3 id=&quot;exercise-1.1&quot;&gt;Exercise 1.1&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;If you find the following difficult, solve the problem in the context of a single risky asset.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math inline&quot;&gt;\({\cal I}=\{1,2,\ldots,N\}\)&lt;/span&gt; (no riskless asset).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}=(\pi_{i})_{i \in \cal{I}}&amp;#39;\)&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\underset{\pmb{\pi}}{\text{max}} \; E[-\exp(-\alpha \tilde{w})]\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\tilde{w}=w_{0}\sum_{i \in \cal{I}}\pi_{i}\tilde{R}_{i}\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\sum_{i \in \cal{I}}\pi_{i}=1,\]&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\alpha&amp;gt;0\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math inline&quot;&gt;\(E[-\exp(-\alpha\tilde{w})] =\; -\exp(-\alpha E[\tilde{w}]+(\alpha^{2}/2)V[\tilde{w}]).\)&lt;/span&gt; We can thus maximize &lt;span class=&quot;math inline&quot;&gt;\(E[\tilde{w}]-(\alpha/2)V[\tilde{w}]\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This function is decreasing in wealth when wealth is large. The investor therefore does not benefit of being wealthier beyond a certain point.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The criterion can be written: &lt;span class=&quot;math display&quot;&gt;\[w_{0}\pmb{\pi}&amp;#39;\pmb{\mu}-(\alpha/2)w_{0}^{2}\pmb{\pi}&amp;#39;\Sigma\pmb{\pi},\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\mu}\)&lt;/span&gt; is the expected return vector and &lt;span class=&quot;math inline&quot;&gt;\(\Sigma\)&lt;/span&gt; is the covariance matrix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assuming as usual that &lt;span class=&quot;math inline&quot;&gt;\(\Sigma\)&lt;/span&gt; is positive definite and the criterion is strictly concave.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the absence of a budget constraint, we can choose &lt;span class=&quot;math inline&quot;&gt;\(w_{0}=1\)&lt;/span&gt; and leave the vector of weights unconstrained. The first order condition characterizes the solution. It is: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\mu}=\alpha \Sigma \pmb{\pi},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi}=\frac{1}{\alpha}\Sigma^{-1}\pmb{\mu}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The total wealth needed to reach the optimum is: &lt;span class=&quot;math display&quot;&gt;\[\pmb{e}&amp;#39;\pmb{\pi}=\frac{1}{\alpha}\pmb{e}&amp;#39;\Sigma^{-1}\pmb{\mu}.\]&lt;/span&gt; Any additional wealth is useless.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We now start from an initial wealth level &lt;span class=&quot;math inline&quot;&gt;\(w_{0}&amp;gt;0\)&lt;/span&gt; and impose that the vector of weights sum to &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. &lt;span class=&quot;math display&quot;&gt;\[\underset{\pmb{\pi}}{\text{max}} \; \pmb{\pi}&amp;#39;\pmb{\mu}-(\alpha/2)w_{0}\pmb{\pi}&amp;#39;\Sigma\pmb{\pi}\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\pmb{e}&amp;#39;\pmb{\pi}=1.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The lagrangian can be written: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi}&amp;#39;\pmb{\mu}-(\alpha/2)w_{0}\pmb{\pi}&amp;#39;\Sigma\pmb{\pi}-\lambda(\pmb{\pi}&amp;#39;\pmb{e}-1),\]&lt;/span&gt; and the first order condition: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\mu}-\alpha w_{0}\Sigma\pmb{\pi}-\lambda\pmb{e}=0,\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The langrangian multiplier is given by (multiply the first order condition on the right by &lt;span class=&quot;math inline&quot;&gt;\(\pmb{\pi}&amp;#39;\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[\lambda=\pmb{\pi}&amp;#39;\pmb{\mu}-\alpha w_{0}\pmb{\pi}&amp;#39;\Sigma\pmb{\pi}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The solution splits as follows: &lt;span class=&quot;math display&quot;&gt;\[w_{0}\pmb{\pi}=\frac{1}{\alpha}\Sigma^{-1}\pmb{\mu}-\frac{\lambda}{\alpha}\Sigma^{-1}\pmb{e}.\]&lt;/span&gt; The first term corresponds to the optimal unconstrained solution of question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. The second term ensures that what the whole wealth is invested.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[w_{0}=\frac{1}{\alpha}\pmb{e}&amp;#39;\Sigma^{-1}\pmb{\mu}-\frac{\lambda}{\alpha}\pmb{e}&amp;#39;\Sigma^{-1}\pmb{e}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For &lt;span class=&quot;math inline&quot;&gt;\(\lambda&amp;gt;0\)&lt;/span&gt;, &lt;span class=&quot;math inline&quot;&gt;\(w_{0}\)&lt;/span&gt; is below the optimal wealth level of question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. For &lt;span class=&quot;math inline&quot;&gt;\(\lambda&amp;lt;0\)&lt;/span&gt;, &lt;span class=&quot;math inline&quot;&gt;\(w_{0}\)&lt;/span&gt; is above the optimal wealth level of question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. Since the budget constraint prevents from throwing money away, too much is invested when &lt;span class=&quot;math inline&quot;&gt;\(\lambda&amp;lt;0\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We know that the utility outcome is measured by: &lt;span class=&quot;math display&quot;&gt;\[w_{0}\pmb{\pi}&amp;#39;\pmb{\mu}-(\alpha/2)w_{0}^{2}\pmb{\pi}&amp;#39;\Sigma\pmb{\pi}.\]&lt;/span&gt; An infinitesimal increase in wealth has an inmpact on utility measured through (using the envelope theorem - one can neglect the infinitesimal change in the optimal portfolio as we change wealth infinitesimally - differentiate with respect to &lt;span class=&quot;math inline&quot;&gt;\(w_{0}\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi}&amp;#39;\pmb{\mu}-\alpha w_{0}\pmb{\pi}&amp;#39;\Sigma\pmb{\pi},\]&lt;/span&gt; which is just &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;. Therefore when &lt;span class=&quot;math inline&quot;&gt;\(\lambda&amp;lt;0\)&lt;/span&gt; indeed, the marginal utility of wealth is negative. This is due to the fact that the utility function decreases beyond a certain level of wealth.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;In the presence of cash, we know that we can parameterize the optimization problem using the risky asset weights. The optimization is unconstrained and the cash position is deduced from the budget constraint. The risky asset weight solves the problem of question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\mu-r^{f}\)&lt;/span&gt; in place of &lt;span class=&quot;math inline&quot;&gt;\(\mu\)&lt;/span&gt;. The residual amount of wealth (positive if wealth is high, negative if wealth is low) is invested in the riskless asset. The level of investment in the risky assets is always optimal (i.e. as in question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; up to the substitution of &lt;span class=&quot;math inline&quot;&gt;\(\mu-r^{f}\)&lt;/span&gt; for &lt;span class=&quot;math inline&quot;&gt;\(\mu\)&lt;/span&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;exercise-1.2&quot;&gt;Exercise 1.2&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;See the notebook, which directly applies the formulas in the section on static optimization.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;The tangent portfolio is: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi_{*}}=\frac{1}{\pmb{e}&amp;#39;\Sigma^{-1}(\pmb{\mu}-r^{f}\pmb{e})}\Sigma^{-1}(\pmb{\mu}-r^{f}\pmb{e}),\]&lt;/span&gt; while the solution for the given utility function is: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi_{\rho}}=\frac{1}{\rho}\Sigma^{-1}(\pmb{\mu}-r^{f}\pmb{e}).\]&lt;/span&gt; Thus the value of &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt; that delivers the tangent portfolio is just: &lt;span class=&quot;math display&quot;&gt;\[\rho_{*}=\pmb{e}&amp;#39;\Sigma^{-1}(\pmb{\mu}-r^{f}\pmb{e}).\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The risky asset portfolios along the efficient frontier are all proportional to the tangent portfolio. The proportions across risky assets are thus constant along the efficient frontier. As we move towards more volatile portfolios, efficient portfolios borrow cash to finance positions in risky assets. If borrowing is ruled out, the risky asset positions need to change. The efficient frontier cannot be linear beyond the point where cash borrowing kicks in. Positions in the most volatile risky asset (equities in our case) needs to be financed through lower positions on the least volatile risky asset (in our case bonds). The proportion of bonds to equities falls as we increase volatility.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The no borrowing constraint does not impact safe portfolios.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;The efficient proportion of bonds to equities is at least four to one. This holds if bonds are quite attractive relatively to equities. You can play with the program to find specific parameters that match this situation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;exercise-1.4&quot;&gt;Exercise 1.4&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The first order condition is: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi_{\rho}}=\frac{1}{\rho}\Sigma^{-1}(\pmb{\mu}-r^{f}\pmb{e}),\]&lt;/span&gt; which can also be written: &lt;span class=&quot;math display&quot;&gt;\[\Sigma\pmb{\pi_{\rho}}=\frac{1}{\rho}(\pmb{\mu}-r^{f}\pmb{e}).\]&lt;/span&gt; We therefore have: &lt;span class=&quot;math display&quot;&gt;\[\pmb{\pi_{\rho}}&amp;#39;\Sigma\pmb{\pi_{\rho}}=\frac{1}{\rho}\pmb{\pi_{\rho}}&amp;#39;(\pmb{\mu}-r^{f}\pmb{e}).\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\sigma_{\rho}=\frac{1}{\rho}\frac{\pmb{\pi_{\rho}}&amp;#39;(\pmb{\mu}-r^{f}\pmb{e})}{\sigma_{\rho}}=\frac{1}{\rho}\lambda_{\rho}.\]&lt;/span&gt; with &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{\rho}\)&lt;/span&gt; being the volatility of the optimal portfolio and &lt;span class=&quot;math inline&quot;&gt;\(\lambda_{\rho}\)&lt;/span&gt; its sharpe ratio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We remind that &lt;span class=&quot;math inline&quot;&gt;\(\lambda_{\rho}\)&lt;/span&gt; is independent of &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt;. It is given by the Sharpe ratio of the tangent portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;We have: &lt;span class=&quot;math display&quot;&gt;\[\mu_{\rho}=\lambda\sigma_{\rho}=\rho\sigma_{\rho}^{2}.\]&lt;/span&gt; In the &lt;span class=&quot;math inline&quot;&gt;\((\sigma,\mu)\)&lt;/span&gt; space, the locus of optimal portfolios attached to a given &lt;span class=&quot;math inline&quot;&gt;\(\rho\)&lt;/span&gt;, as we vary the Sharpe ratio &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt;, is a parabola.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;dynamics-discrete-time&quot;&gt;Dynamics, discrete time&lt;/h2&gt;
&lt;h3 id=&quot;exercise-2.1&quot;&gt;Exercise 2.1&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Directly from the course: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pmb{\pi}_{[t,T-1]}}{\text{max}}
\; E_{t}\left[\frac{w_{T}^{1-\rho}}{1-\rho}\right]\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\; w_{k+1}=w_{k}\pi_{k}&amp;#39;R_{k+1},\,\pi_{k}&amp;#39;e=1,\,k=t,\ldots,T-1.\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{max}}
\; E_{T-1}\left[\frac{w_{T-1}^{1-\rho}(\pi&amp;#39;R_{T})^{1-\rho}}{1-\rho}\right],\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\; \pi&amp;#39;e=1.\]&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The constraint is linear and the criterion is concave (being a composition of a concave function with a linear one). We are thus in the usual Khün-Tucker context. Through the Lagrangian: &lt;span class=&quot;math display&quot;&gt;\[{\cal L}=w_{T-1}^{1-\rho}E_{T-1}\left[\frac{(\pi&amp;#39;R_{T})^{1-\rho}}{1-\rho}\right]-\lambda \pi&amp;#39;e,\]&lt;/span&gt; we get the first order condition (differentiating with respect to &lt;span class=&quot;math inline&quot;&gt;\(\pi\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[w_{T-1}^{1-\rho}E[(\pi&amp;#39;R_{T})^{-\rho}R_{T}]=\lambda e.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Being in the standard concave case, the first order condition is both necessary and sufficient.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Consider two levels of initial wealth in date &lt;span class=&quot;math inline&quot;&gt;\(T-1\)&lt;/span&gt;, &lt;span class=&quot;math inline&quot;&gt;\(w^{0}\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(w^{1}\)&lt;/span&gt;. Suppose the the policy &lt;span class=&quot;math inline&quot;&gt;\(\pi^{0}\)&lt;/span&gt; is optimal for wealth level &lt;span class=&quot;math inline&quot;&gt;\(w_{0}\)&lt;/span&gt; leading to utility level &lt;span class=&quot;math inline&quot;&gt;\(V(w^{0})\)&lt;/span&gt;. Then applying the policy for wealth level &lt;span class=&quot;math inline&quot;&gt;\(w^{1}\)&lt;/span&gt; leads to utility level &lt;span class=&quot;math inline&quot;&gt;\((w^{1}/w^{0})^{1-\rho}V(w_{0})\)&lt;/span&gt;. We thus have &lt;span class=&quot;math inline&quot;&gt;\(V(w^{1})\ge (w^{1}/w^{0})^{1-\rho}V(w_{0})\)&lt;/span&gt;. Inverting the role of &lt;span class=&quot;math inline&quot;&gt;\(w^{0}\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(w^{1}\)&lt;/span&gt; leads to &lt;span class=&quot;math inline&quot;&gt;\(V(w^{0})\ge (w^{0}/w^{1})^{1-\rho}V(w_{1})\)&lt;/span&gt;. Combining the two inequalities proves the homogeneity of the value function, which can choose to write &lt;span class=&quot;math inline&quot;&gt;\(w^{1-\rho}V(1)\)&lt;/span&gt;. We can thus write: &lt;span class=&quot;math display&quot;&gt;\[V_{T-1}(w_{T-1})=w_{T-1}^{1-\rho}V_{T-1}(1).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The constant of proportionality is the value attached to: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{max}}
\; E_{T-1}\left[\frac{(\pi&amp;#39;R_{T})^{1-\rho}}{1-\rho}\right],\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\; \pi&amp;#39;e=1.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In other words: &lt;span class=&quot;math display&quot;&gt;\[V_{T-1}(1)=E\left[\frac{(\pi_{*}&amp;#39;R)^{1-\rho}}{1-\rho}\right],\]&lt;/span&gt; which is negative and is a constant.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;At step &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;, the optimization program is, by recurrence: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi}{\text{max}}
\; E_{t}\left[w_{t}^{1-\rho}(\pi&amp;#39;R_{t+1})^{1-\rho}V_{t+1}(1)\right],\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\; \pi&amp;#39;e=1.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We then proceed as in the previous question. The program has the same characteristics (concave negative criterion, linear constraint). The value function is homogenous and we can write it as &lt;span class=&quot;math inline&quot;&gt;\(w^{1-\rho}V_{t}(1)\)&lt;/span&gt;. Because &lt;span class=&quot;math inline&quot;&gt;\(V_{t+1}(1)\)&lt;/span&gt; is a negative constant, the optimization problem actually leads to the same optimal portfolio &lt;span class=&quot;math inline&quot;&gt;\(\pi_{*}\)&lt;/span&gt;. We then have the recurrence relation: &lt;span class=&quot;math display&quot;&gt;\[V_{t}(1)=V_{t+1}(1)E\left[(\pi_{*}&amp;#39;R)^{1-\rho}\right].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The terminal condition implies &lt;span class=&quot;math inline&quot;&gt;\(V_{T}(1)=1/(1-\rho)\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;We established that the optimal portfolio is the same at each date. That is the main take-away. In this setup, the investor’s choice does not depend on the investment horizon. He rebalanced to the same set of optimal weights at each step.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;exercise-2.3&quot;&gt;Exercise 2.3&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Because the support of &lt;span class=&quot;math inline&quot;&gt;\(\tilde{R}_{1}\)&lt;/span&gt; has &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; as its lower bound, wealth invested in the risky asset in period &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; can can lead to nothing in period &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;. The minimum amount of wealth needed to obtain &lt;span class=&quot;math inline&quot;&gt;\(\underline{w}_{1}\)&lt;/span&gt; in period is: &lt;span class=&quot;math display&quot;&gt;\[\underline{w}_{0}=\frac{\underline{w}_{1}}{R^{f}}.\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;According to question &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt;, at least &lt;span class=&quot;math inline&quot;&gt;\(\underline{w}_{0}\)&lt;/span&gt; should be invested in the riskless asset. Thus nothing more than &lt;span class=&quot;math inline&quot;&gt;\(w_{0}-\underline{w}_{0}\)&lt;/span&gt; can be invested in the risky asset. This quantity (the surplus) can be split into the fraction invested in the risky asset and the remaining fraction invested in the riskless asset. Thus the transfer of wealth obeys: &lt;span class=&quot;math display&quot;&gt;\[w_{1}=\underline{w}_{0}R^{f}+(w_{0}-\underline{w}_{0})(1-\pi_{0})R^{f}+(w_{0}-\underline{w}_{0})\pi_{0}\tilde{R}_{1},\]&lt;/span&gt;&lt;br /&gt;
or given that &lt;span class=&quot;math inline&quot;&gt;\(\underline{w}_{0}R^{f}=\underline{w}_{1}\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[w_{1}-\underline{w}_{1}=(w_{0}-\underline{w}_{0})(R^{f}+\pi_{0}(\tilde{R}_{1}-R^{f})).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To see that &lt;span class=&quot;math inline&quot;&gt;\(\pi_{0}\)&lt;/span&gt; should be positive or zero, note that because the return &lt;span class=&quot;math inline&quot;&gt;\(\tilde{R}_{1}\)&lt;/span&gt; can be arbitrarily large, going short the risky asset can wipe out any level of wealth.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We have:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;the budget constraint expressed as a function of the surplus is geometric. Multiplying the initial surplus &lt;span class=&quot;math inline&quot;&gt;\(w_{0}-\underline{w}_{0}\)&lt;/span&gt; by &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt; leaving the proportion &lt;span class=&quot;math inline&quot;&gt;\(\pi_{0}\)&lt;/span&gt; unchanged leads to &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt; times &lt;span class=&quot;math inline&quot;&gt;\(w_{1}-\underline{w}_{1}\)&lt;/span&gt; as the final surplus: &lt;span class=&quot;math display&quot;&gt;\[\lambda (w_{1}-\underline{w}_{1})=\lambda (w_{0}-\underline{w}_{0})(R^{f}+\pi_{0}(\tilde{R}_{1}-R^{f})).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the set of feasible investment policies does not depend on the initial surplus.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;for a given investment policy &lt;span class=&quot;math inline&quot;&gt;\(\pi_{0}\)&lt;/span&gt;, if &lt;span class=&quot;math inline&quot;&gt;\(U(w_{0}-\underline{w}_{0},\pi_{0})\)&lt;/span&gt; is the utility level reached starting from a surplus &lt;span class=&quot;math inline&quot;&gt;\(w_{0}-\underline{w}_{0}\)&lt;/span&gt;, the utility level reached starting from &lt;span class=&quot;math inline&quot;&gt;\(\lambda(w_{0}-\underline{w}_{0})\)&lt;/span&gt; is &lt;span class=&quot;math inline&quot;&gt;\(U(\lambda(w_{0}-\underline{w}_{0}),\pi_{0})=\lambda^{1-\rho}U(w_{0}-\underline{w}_{0},\pi_{0})\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;These facts imply that the value function &lt;span class=&quot;math inline&quot;&gt;\(V(w_{0}-\underline{w}_{0})\)&lt;/span&gt; is homogenous of degree &lt;span class=&quot;math inline&quot;&gt;\(1-\rho\)&lt;/span&gt; in the surplus. Indeed, if &lt;span class=&quot;math inline&quot;&gt;\(V(\lambda (w_{0}-\underline{w}_{0}))&amp;gt;\lambda^{1-\rho}V(w_{0}-\underline{w}_{0})\)&lt;/span&gt;, then using the optimal choice for the initial condition &lt;span class=&quot;math inline&quot;&gt;\(\lambda (w_{0}-\underline{w}_{0})\)&lt;/span&gt;, one can achieve the value: &lt;span class=&quot;math display&quot;&gt;\[\frac{1}{\lambda^{1-\rho}} V(\lambda (w_{0}-\underline{w}_{0}))&amp;gt;V(w_{0}-\underline{w}_{0}),\]&lt;/span&gt; for the utility level reached from the initial conditon &lt;span class=&quot;math inline&quot;&gt;\(w_{0}-\underline{w}_{0}\)&lt;/span&gt;. This is a contradiction. Similarly: &lt;span class=&quot;math display&quot;&gt;\[V(\lambda (w_{0}-\underline{w}_{0}))&amp;lt;\lambda^{1-\rho}V(w_{0}-\underline{w}_{0}),\]&lt;/span&gt; would lead to a contradiction.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The optimal program for the initial condition &lt;span class=&quot;math inline&quot;&gt;\(w_{0}-\underline{w}_{0}=1\)&lt;/span&gt; is: &lt;span class=&quot;math display&quot;&gt;\[V(1)=\underset{\pi_{0}}{\text{max}} \; E[\frac{1}{1-\rho}(R^{f}+\pi_{0}(\tilde{R}_{1}-R^{f}))^{1-\rho}]\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[0 \leq \pi_{0} \leq 1,\]&lt;/span&gt; and the solution does not depend on the initial condition.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We know from the previous questions that in the two period case, the value function in date &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; reads: &lt;span class=&quot;math display&quot;&gt;\[V_{T-1}(1)(w_{0}-\underline{w}_{0})^{1-\rho}.\]&lt;/span&gt; Note that &lt;span class=&quot;math inline&quot;&gt;\(V_{T-1}(1)\)&lt;/span&gt; has the same sign as &lt;span class=&quot;math inline&quot;&gt;\(1-\rho\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can extend the reasoning by recurrence using the dynamic programming principle, and we therefore obtain that the value function at any date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; reads: &lt;span class=&quot;math display&quot;&gt;\[V_{t}(1)(w_{0}-\underline{w}_{0})^{1-\rho}.\]&lt;/span&gt; The optimal command is given by: &lt;span class=&quot;math display&quot;&gt;\[\underset{\pi_{t}}{\text{max}} \; E[V_{t+1}(1)(R^{f}+\pi_{0}(\tilde{R}_{1}-R^{f}))^{1-\rho}]\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\text{s.t.}:\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[0 \leq \pi_{t} \leq 1.\]&lt;/span&gt; This gives the same result for every date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; (we have i.i.d. risky asset returns and a constant cash rate).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;dynamics-continuous-time&quot;&gt;Dynamics, continuous time&lt;/h2&gt;
&lt;h3 id=&quot;exercise-3.1&quot;&gt;Exercise 3.1&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;For &lt;span class=&quot;math inline&quot;&gt;\(t \in (t_{i},t_{i+1}]\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(t&amp;#39; \in (t_{k},t_{k+1}]\)&lt;/span&gt; (I assume &lt;span class=&quot;math inline&quot;&gt;\(k&amp;gt;i+1\)&lt;/span&gt;, the case where &lt;span class=&quot;math inline&quot;&gt;\(k=i+1\)&lt;/span&gt; follows similar lines): &lt;span class=&quot;math display&quot;&gt;\[M_{t&amp;#39;}=\int_{0}^{t&amp;#39;}h(u)dB_{u}=\sum_{j=1}^{i-1}F_{j}(B_{t_{j}}-B_{t_{j+1}})+F_{t_{i}}(B_{t}-B_{t_{i}})+\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[F_{t_{i}}(B_{t_{i+1}}-B_{t})+\sum_{j=i+1}^{k-1}F_{j}(B_{t_{j}}-B_{t_{j+1}})+F_{t_{k}}(B_{t&amp;#39;}-B_{t_{k}}).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using the properties of the Brownian motion, we have: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[M_{t&amp;#39;}]=E_{t}[\sum_{j=1}^{i-1}F_{j}(B_{t_{j}}-B_{t_{j+1}})+F_{t_{i}}(B_{t}-B_{t_{i}})]=M_{t}.\]&lt;/span&gt; This says that the stochastic integral of a simple process is a martingale.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;For the left hand side, one just needs to develop &lt;span class=&quot;math inline&quot;&gt;\(M_{t}^2\)&lt;/span&gt; and use the fact that: &lt;span class=&quot;math display&quot;&gt;\[E_{0}[F_{t_{k}}(B_{t_{k+1}}-B_{t_{k}})F_{t_{j}}(B_{t_{j+1}}-B_{t_{j}})]=0,\]&lt;/span&gt; when intervals &lt;span class=&quot;math inline&quot;&gt;\([t_{k},t_{k+1}]\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\([t_{j},t_{j+1}]\)&lt;/span&gt; don’t overlap while: &lt;span class=&quot;math display&quot;&gt;\[E_{0}[F_{t_{k}}^{2}(B_{t_{k+1}}-B_{t_{k}})^{2}]=E_{0}[F_{t_{k}}^{2}(t_{k+1}-t_{k})].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;For the right-hand side: &lt;span class=&quot;math display&quot;&gt;\[h(t)=\sum_{i=1}^{n}F_{i}^{2}{\bf 1}_{(t_{i},t_{i+1}]},\]&lt;/span&gt; so that: &lt;span class=&quot;math display&quot;&gt;\[\int_{0}^{t}h(u)^{2}du=\sum_{j=1}^{i-1}F_{j}^{2}(t_{j+1}-t_{j})+F_{t_{i}}^{2}(t-t_{i}).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identification is then immediate.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We have (&lt;span class=&quot;math inline&quot;&gt;\(t&amp;#39; \geq t\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[\int_{0}^{t&amp;#39;}h(u)dB_{u}=\int_{0}^{t}h(u)dB_{u}+\int_{t}^{t&amp;#39;}h(u)dB_{u},\]&lt;/span&gt; and: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[|\int_{0}^{t&amp;#39;}h(u)dB_{u}|^{2}]=|\int_{0}^{t}h(u)dB_{u}|^{2}+E_{t}[|\int_{t}^{t&amp;#39;}h(u)dB_{u}|^{2}],\]&lt;/span&gt; as the expectation of the cross-product vanishes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Similarly: &lt;span class=&quot;math display&quot;&gt;\[\int_{0}^{t&amp;#39;}h(u)^{2}du=\int_{0}^{t}h(u)^{2}du+\int_{t}^{t&amp;#39;}h(u)^{2}du,\]&lt;/span&gt; and: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[\int_{0}^{t&amp;#39;}h(u)^{2}du]=\int_{0}^{t}h(u)^{2}du+E_{t}[\int_{t}^{t&amp;#39;}h(u)^{2}du].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Then we can proceed as in &lt;span class=&quot;math inline&quot;&gt;\(2\)&lt;/span&gt; to get: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[|\int_{t}^{t&amp;#39;}h(u)dB_{u}|^{2}]-E_{t}[\int_{t}^{t&amp;#39;}h(u)^{2}du]=0,\]&lt;/span&gt; so that: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[|\int_{0}^{t&amp;#39;}h(u)dB_{u}|^{2}]-E_{t}[\int_{0}^{t&amp;#39;}h(u)^{2}du]=|\int_{0}^{t}h(u)dB_{u}|^{2}-\int_{0}^{t}h(u)^{2}du,\]&lt;/span&gt; which is what we needed to establish.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Because &lt;span class=&quot;math inline&quot;&gt;\(E_{0}[M_{t}]=0\)&lt;/span&gt;, the variance of &lt;span class=&quot;math inline&quot;&gt;\(M_{t}\)&lt;/span&gt; (as seen from date &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt;) is &lt;span class=&quot;math inline&quot;&gt;\(E_{0}[M_{t}^{2}]\)&lt;/span&gt; which is equal to &lt;span class=&quot;math inline&quot;&gt;\(E_{0}[[M]_{t}]\)&lt;/span&gt;, i.e. the expectation of the quadratic variation. When quadratic variation is deterministic, it is equal to the variance (as seen from date &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt;) of &lt;span class=&quot;math inline&quot;&gt;\(M_{t}\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;exercise-3.2&quot;&gt;Exercise 3.2&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We just need to apply Ito to &lt;span class=&quot;math inline&quot;&gt;\(\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}\)&lt;/span&gt;. The exponential is a finite variation process and the Ito boils down to the standard differential formula in this case: &lt;span class=&quot;math display&quot;&gt;\[d\left(\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}\right)=d\left(\exp\left(-\int_{0}^{t}r_{u}du\right)\right)P_{t}^{T}+\exp\left(-\int_{0}^{t}r_{u}du\right)d(P_{t}^{T}),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[=-\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}r_{t}dt+\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}r_{t}dt+
\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}\sigma_{t}^{T}dB_{t}.\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[=\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}\sigma_{t}^{T}dB_{t}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Thus &lt;span class=&quot;math inline&quot;&gt;\(\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}\)&lt;/span&gt; is a martingale.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;We therefore have: &lt;span class=&quot;math display&quot;&gt;\[\exp\left(-\int_{0}^{t}r_{u}du\right)P_{t}^{T}=E_{t}\left[\exp\left(-\int_{0}^{T}r_{u}du\right)P_{T}^{T}\right]\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[=E_{t}\left[\exp\left(-\int_{0}^{T}r_{u}du\right)\right].\]&lt;/span&gt; Therefore: &lt;span class=&quot;math display&quot;&gt;\[P_{t}^{T}=E_{t}\left[\exp\left(-\int_{t}^{T}r_{u}du\right)\right].\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Differentiate &lt;span class=&quot;math inline&quot;&gt;\(\exp(\rho t)r_{t}\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[d\left(\exp(\rho t)(r_{t}-\bar{r})\right)=\rho\exp(\rho t)(r_{t}-\bar{r})dt-\rho\exp(\rho t)(r_{t}-\bar{r})dt+\exp(\rho t)\sigma_{r}dB_{t}.\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[=\exp(\rho t)\sigma_{r}dB_{t}.\]&lt;/span&gt; Therefore: &lt;span class=&quot;math display&quot;&gt;\[\exp(\rho t)(r_{t}-\bar{r})-(r_{0}-\bar{r})=\int_{0}^{t}\exp(\rho u)\sigma_{r}dB_{u},\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[r_{t}-\bar{r}=\exp(-\rho t)(r_{0}-\bar{r})+\int_{0}^{t}\exp(-\rho (t-u))\sigma_{r}dB_{u}.\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;One needs to integrate the above equation written between &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(u&amp;gt;t\)&lt;/span&gt; instead on &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; and &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;. Integrating the term &lt;span class=&quot;math inline&quot;&gt;\(\exp(-\rho t)(r_{0}-\bar{r})\)&lt;/span&gt; leads to: &lt;span class=&quot;math inline&quot;&gt;\((r_{t}-\bar{r})b(T-t)\)&lt;/span&gt; where: &lt;span class=&quot;math display&quot;&gt;\[b(T-t)=\int_{t}^{T}\exp(-\rho(u-t))du=-\frac{1}{\rho}[\exp(-\rho(u-t))]_{u=t}^{u=T}=\frac{1-\exp(-\rho(T-t))}{\rho}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;One then applies Fubini to the following double integral: &lt;span class=&quot;math display&quot;&gt;\[\int_{t}^{T}\left(\int_{t}^{u}\exp(-\rho (u-v))\sigma_{r}dB_{v}\right)du=\int_{t}^{T}\left(\int_{v}^{T}\exp(-\rho (u-v))du\right)\sigma_{r}dB_{v},\]&lt;/span&gt; and observes that: &lt;span class=&quot;math display&quot;&gt;\[\int_{v}^{T}\exp(-\rho (u-v))du=b(T-v).\]&lt;/span&gt; This gives the result.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;5&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Write: &lt;span class=&quot;math display&quot;&gt;\[b(h-u)=\frac{1}{\rho^{2}}-\frac{1}{\rho^{2}}\exp(-\rho (h-u))-\frac{1}{\rho}\exp(-\rho (h-u))\frac{1}{\rho}(1-\exp(-\rho (h-u))),\]&lt;/span&gt; and observe that: &lt;span class=&quot;math display&quot;&gt;\[-\frac{1}{\rho}\exp(-\rho (h-u))\frac{1}{\rho}(1-\exp(-\rho (h-u)))=\frac{1}{\rho}b_{u}&amp;#39;(h-u)b(h-u),\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(b_{u}&amp;#39;(h-u)\)&lt;/span&gt; is the &lt;span class=&quot;math inline&quot;&gt;\(u\)&lt;/span&gt; derivative of &lt;span class=&quot;math inline&quot;&gt;\(b(h-u)\)&lt;/span&gt;. The formula then follows by straitghtforward integration.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;6&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;The variable &lt;span class=&quot;math inline&quot;&gt;\(\int_{t}^{T}r_{u}du\)&lt;/span&gt; is Gaussian with mean &lt;span class=&quot;math inline&quot;&gt;\(\bar{r}(T-t)+(r_{t}-\bar{r})b(T-t)\)&lt;/span&gt; and variance: &lt;span class=&quot;math display&quot;&gt;\[\int_{t}^{T}b(T-u)^{2}\sigma_{r}^{2}du.\]&lt;/span&gt; Thus: &lt;span class=&quot;math display&quot;&gt;\[P_{t}^{T}=\exp\left(-\bar{r}(T-t)-(r_{t}-\bar{r})b(T-t)+\frac{\sigma_{r}^{2}}{2}\left(\int_{t}^{T}b(T-u)^{2}du\right)\right).\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;7&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Applying Ito to the above formula shows that the volatility of the price process is &lt;span class=&quot;math inline&quot;&gt;\(\sigma_{r}b(T-t)\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;exercise-3.3&quot;&gt;Exercise 3.3&lt;/h3&gt;
&lt;ol type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Inserting &lt;span class=&quot;math inline&quot;&gt;\(dB_{t}=dB^{Q}_{t}-\lambda dt\)&lt;/span&gt; into: &lt;span class=&quot;math display&quot;&gt;\[\frac{dP_{t}^{T}}{P_{t}^{T}}=(r_{t}+\sigma_{t}^{T}\lambda)dt+\sigma_{t}^{T}dB_{t},\]&lt;/span&gt; we get: &lt;span class=&quot;math display&quot;&gt;\[\frac{dP_{t}^{T}}{P_{t}^{T}}=r_{t}dt+\sigma_{t}^{T}dB^{Q}_{t}.\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;The SDE followed by the cash rate is: &lt;span class=&quot;math display&quot;&gt;\[dr_{t}=-\rho(r_{t}-\bar{r}+\frac{\lambda}{\rho})dt+\sigma_{r}dB^{Q}_{t},\]&lt;/span&gt; i.e.: &lt;span class=&quot;math display&quot;&gt;\[dr_{t}=-\rho(r_{t}-\tilde{r})dt+\sigma_{r}dB^{Q}_{t},\]&lt;/span&gt; with: &lt;span class=&quot;math display&quot;&gt;\[\tilde{r}=\bar{r}-\frac{\lambda\sigma_{r}}{\rho}.\]&lt;/span&gt; Therefore, the mean cash rate has changed.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We now have: &lt;span class=&quot;math display&quot;&gt;\[P_{t}^{T}=E^{Q}_{t}\left[\exp\left(-\int_{t}^{T}r_{u}du\right)\right].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The process &lt;span class=&quot;math inline&quot;&gt;\((B^{Q}_{t})\)&lt;/span&gt; is a Brownian motion. We can thus compute the price as in the previous exercise. This gives: &lt;span class=&quot;math display&quot;&gt;\[P_{t}^{T}=\exp\left(-\tilde{r}(T-t)-(r_{t}-\tilde{r})b(T-t)+\frac{\sigma_{r}^{2}}{2}\left(\int_{t}^{T}b(T-u)^{2}du\right)\right).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;4&quot; type=&quot;1&quot;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Only the mean short rate has changed. Price volatility is unchanged.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2015-12-12-solexercises.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Sat, 12 Dec 2015 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2015/12/12/solexercises.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2015/12/12/solexercises.html</guid>
			</item>
		
			<item>
				<title>Complete Markets, Discrete Time</title>
				<description>&lt;p&gt;&lt;em&gt;In this post, I present the so-called martingale method in a complete market setup where the time scale is discrete and the probability space is discrete as well. In the absence of arbitrage, there is a strictly positive stochastic discount factor (SDF) and a risk neutral measure can be defined. The market is said to be complete if any consumption stream which is adapted to the underlying filtration can be traded using the available financial instruments. If this is the case, the SDF and the risk neutral measure are both unique. A portfolio optimization problem without labour income is defined. Despite the dynamic context, the maximization problem is essentially static. The gradient of the utility function has to be proportional to the SDF, and the optimal plan is found by varying the coefficient of proportionality to satisfy the intertemporal budget constraint. The optimal consumption plan is thus in principal easily derived. The corresponding portfolio policy has to be identified in a second step however.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;single-period-sdf-and-risk-neutral-probabilities&quot;&gt;Single period SDF and risk neutral probabilities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;What follows should be read after &lt;a href=&quot;/ensae/2014/11/16/complete.html&quot;&gt;this post&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Here, I drop the tildas on random variables to avoid overloading the notation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The general ideas presented in the static case can be applied to the dynamic case. The easiest extension assumes a discrete time scale and a discrete probability space represented by a tree of events.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let the set of time indices be &lt;span class=&quot;math inline&quot;&gt;\(\{0,1,\ldots,T\}\)&lt;/span&gt;. If there is no arbitrage, one can define strictly positive discount factors &lt;span class=&quot;math inline&quot;&gt;\(z_{t+1}\)&lt;/span&gt; such that all pay-offs &lt;span class=&quot;math inline&quot;&gt;\(x_{\theta_{t},t+1}\)&lt;/span&gt; of an investment policy &lt;span class=&quot;math inline&quot;&gt;\(\theta_{t}\)&lt;/span&gt; are priced according to: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t},t}=E_{t}[z_{t+1}x_{\theta_{t},t+1}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the absence of arbitrage, the discount factor is strictly positive and we can define risk neutral probabilities with derivative: &lt;span class=&quot;math display&quot;&gt;\[\psi_{t+1}=R^{f}_{t+1}z_{t+1},\]&lt;/span&gt; (&lt;span class=&quot;math inline&quot;&gt;\(E_{t}[\psi_{t+1}]=1\)&lt;/span&gt;) so that for any &lt;span class=&quot;math inline&quot;&gt;\(x\)&lt;/span&gt; that is &lt;span class=&quot;math inline&quot;&gt;\({\cal F}_{t}\)&lt;/span&gt; measurable: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[\psi_{t+1}x]=\tilde{E}_{t}[x].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Under this new measure: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t},t}=\tilde{E}_{t}\left[\frac{x_{\theta_{t},t+1}}{R^{f}_{t+1}}\right]=\frac{\tilde{E}_{t}\left[x_{\theta_{t},t+1}\right]}{R^{f}_{t+1}}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;multiperiod-sdf&quot;&gt;Multiperiod SDF&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;One can telescope the period by period discount factors by defining: &lt;span class=&quot;math display&quot;&gt;\[m_{t}=z_{1}z_{2}\cdots z_{t}\; (t \geq 1),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[m_{0}=1.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Considering a self-financed trading rule &lt;span class=&quot;math inline&quot;&gt;\(\theta[t,t+1]=\{\theta_{t},\theta_{t+1}\}\)&lt;/span&gt; defined over the time interval &lt;span class=&quot;math inline&quot;&gt;\([t,t+1]\)&lt;/span&gt;, and assuming that it leads to a pay-off in &lt;span class=&quot;math inline&quot;&gt;\(t+2\)&lt;/span&gt; only, one can write using the rules regarding conditional expectations: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t+1},t+1}=E_{t+1}[z_{t+2}x_{\theta_{t+1},t+2}],\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t+1},t}=E_{t}[z_{t+1}p_{\theta_{t+1},t+1}]=E_{t}[E_{t+1}[z_{t+1}z_{t+2}x_{\theta_{t+1},t+2}]],\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t+1},t}=E_{t}[z_{t+1}z_{t+2}x_{\theta_{t+1},t+2}],\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[m_{t}p_{\theta_{t+1},t}=E_{t}[m_{t+2}x_{\theta_{t+1},t+2}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When the self-financed trading policy &lt;span class=&quot;math inline&quot;&gt;\(\theta[t,T]=\{\theta_{t},\ldots,\theta_{T}\}\)&lt;/span&gt; leads to pay-offs that accrue at different times, &lt;span class=&quot;math inline&quot;&gt;\(\{x_{t+1},\ldots,x_{T}\}\)&lt;/span&gt;, we just have to sum their discounted values: &lt;span class=&quot;math display&quot;&gt;\[m_{t}p_{\theta_{t},t}=E_{t}[\sum_{k=t+1}^{T}m_{k}x_{k}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;multiperiod-risk-neutral-probabilities&quot;&gt;Multiperiod risk neutral probabilities&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;If we collapse all Radon-Nikodym derivatives into: &lt;span class=&quot;math display&quot;&gt;\[\Psi_{t}=\psi_{1} \cdots \psi_{t}\; (t \geq 1),\]&lt;/span&gt; &lt;span class=&quot;math display&quot;&gt;\[\Psi_{0}=1.\]&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;obviously: &lt;span class=&quot;math display&quot;&gt;\[E_{0}[\Psi_{t}]=1,\]&lt;/span&gt; and: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[\Psi_{T}]=\Psi_{t}.\]&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We can define for an &lt;span class=&quot;math inline&quot;&gt;\({\cal F}_{T}\)&lt;/span&gt; random variable &lt;span class=&quot;math inline&quot;&gt;\(X\)&lt;/span&gt;: &lt;span class=&quot;math display&quot;&gt;\[\tilde{E}_{0}[X]=E_{0}[\Psi_{T}X],\]&lt;/span&gt; and for conditional expectations: &lt;span class=&quot;math display&quot;&gt;\[\tilde{E}_{0}[X|{\cal F}_{t}]=E_{t}[X]=\frac{E_{0}[\Psi_{T}X|{\cal F}_{t}]}{E_{0}[\Psi_{T}|{\cal F}_{t}]}=\frac{E_{t}[\Psi_{T}X]}{E_{t}[\Psi_{T}]}
=\frac{E_{t}[\Psi_{T}X]}{\Psi_{t}}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that we recover the one step ahead risk neutral derivatives. As above, we have: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t},t}=E_{t}[\psi_{t+1}\frac{x_{\theta_{t},t+1}}{R^{f}_{t+1}}]=\tilde{E}_{t}[\frac{x_{\theta_{t},t+1}}{R^{f}_{t+1}}],\]&lt;/span&gt; and more generally for &lt;span class=&quot;math inline&quot;&gt;\(\theta[t,t+1]=\{\theta_{t},\theta_{t+1}\}\)&lt;/span&gt; delivering a pay-off in &lt;span class=&quot;math inline&quot;&gt;\(t+2\)&lt;/span&gt; as above: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t+1},t}=E_{t}[\frac{m_{t+2}}{m_{t}}x_{\theta_{t+1},t+2}]=\tilde{E}_{t}[\frac{x_{\theta_{t+1},t+2}}{R^{f}_{t+1}R^{f}_{t+2}}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Similarly, when the self-financed trading policy &lt;span class=&quot;math inline&quot;&gt;\(\theta[t,T]=\{\theta_{t},\ldots,\theta_{T}\}\)&lt;/span&gt; leads to pay-offs that accrue at different times, &lt;span class=&quot;math inline&quot;&gt;\(\{x_{t+1},\ldots,x_{T}\}\)&lt;/span&gt;, we just have to sum the risk neutral expectations of discounted values with discount rates being risk free discount rates: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t},t}=\tilde{E}_{t}\left[\sum_{k=t+1}^{T}\frac{x_{k}}{\Pi_{q=t+1}^{k}R^{f}_{q}}\right].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To simplify the notation, we can write: &lt;span class=&quot;math display&quot;&gt;\[B_{t,k}=\Pi_{q=t+1}^{k}R^{f}_{q}.\]&lt;/span&gt; This is the amount generated at date &lt;span class=&quot;math inline&quot;&gt;\(k\)&lt;/span&gt; by investing &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; dollar at date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;. Using this we can rewrite the intertemporal budget constraint above as: &lt;span class=&quot;math display&quot;&gt;\[p_{\theta_{t},t}=\tilde{E}_{t}\left[\sum_{k=t+1}^{T}B_{t,k}^{-1}x_{k}\right].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;One can paraphrase this as saying that the price is the risk neutral expectation of cash flows expressed using the cash account as the numeraire.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Suppose we consider an asset that does not distribute dividends. We initiate an investment in the cash account at date &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; and this delivers a cash amount &lt;span class=&quot;math inline&quot;&gt;\(B_{0,t}\)&lt;/span&gt; at date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt;. Expressing the price of the asset in terms of the cash account, we thus define the discounted price: &lt;span class=&quot;math display&quot;&gt;\[\tilde{P}_{t}=\frac{P_{t}}{B_{0,t}}.\]&lt;/span&gt; We have, using risk neutral probabilities: &lt;span class=&quot;math display&quot;&gt;\[P_{0}=\tilde{P}_{0}=\tilde{E}_{0}[\tilde{P}_{t}].\]&lt;/span&gt;&lt;br /&gt;
Similarly: &lt;span class=&quot;math display&quot;&gt;\[P_{t}=\tilde{E}_{t}[B_{t,T}^{-1}{P}_{T}],\]&lt;/span&gt; and thus (multiplying the equation by &lt;span class=&quot;math inline&quot;&gt;\(B_{0,t}^{-1}\)&lt;/span&gt;): &lt;span class=&quot;math display&quot;&gt;\[\tilde{P}_{t}=\tilde{E}_{t}[\tilde{P}_{T}].\]&lt;/span&gt; We thus see that discounted prices follow a martingale process.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As a consequence, wealth also follows a martingale process.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;intertemporal-budget-constraints&quot;&gt;Intertemporal budget constraints&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The budget constraints records the way wealth evolves over time along a trajectory of returns (assuming no income and no consumption): &lt;span class=&quot;math display&quot;&gt;\[W_{t+1}=W_{t}\pi_{t}&amp;#39;R_{T+1}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Multiplying both sides by &lt;span class=&quot;math inline&quot;&gt;\(m_{t+1}\)&lt;/span&gt;, taking expectations and using the relationship between the SDF and returns, we get: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[m_{t+1}W_{t+1}]=m_{t}W_{t}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Similarly, in the presence of consumption and income, the budget constraint trajectory by trajectory: &lt;span class=&quot;math display&quot;&gt;\[W_{t+1}+C_{t}\pi_{t}&amp;#39;R_{T+1}=W_{t}\pi_{t}&amp;#39;R_{T+1}+Y_{t+1},\]&lt;/span&gt; leads to: &lt;span class=&quot;math display&quot;&gt;\[E_{t}[m_{t+1}W_{t+1}]+m_{t}C_{t}=m_{t}W_{t}+E_{t}[m_{t+1}Y_{t+1}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Over a sequence &lt;span class=&quot;math inline&quot;&gt;\(\{t,t+1,\cdots,T\}\)&lt;/span&gt; of periods : &lt;span class=&quot;math display&quot;&gt;\[\sum_{k=t}^{T-1}E_{t}[m_{k}C_{k}]+E_{t}[m_{T}W_{T}]=m_{t}W_{t}+\sum_{k=t+1}^{T}E_{t}[m_{k}Y_{k}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Similarly, one can write the above relationships using risk-neutral probabilities instead of the SDF: &lt;span class=&quot;math display&quot;&gt;\[\sum_{k=t}^{T-1}\tilde{E}_{t}[B_{t,k}^{-1}C_{k}]+\tilde{E}_{t}[B_{t,T}^{-1}W_{T}]=m_{t}W_{t}+\sum_{k=t+1}^{T}\tilde{E}_{t}[B_{t,k}^{-1}Y_{k}].\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;complete-markets&quot;&gt;Complete markets&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We restrict the problem to a set of times &lt;span class=&quot;math inline&quot;&gt;\([0,T]\)&lt;/span&gt;. We have a fitration &lt;span class=&quot;math inline&quot;&gt;\({\cal F}_{T}\)&lt;/span&gt; and as usual random processes considered are supposed to be adapted to that filtration.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the static case, completeness meant that the traded assets allowed to synthesize all Arrow-Debreu securities. One can then transfer wealth exclusively to any state of nature. There needs to be as many traded assets as there are states of nature, and the matrix of pay-offs needs to have full rank.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In this context, any pay-off function &lt;span class=&quot;math inline&quot;&gt;\(\tilde{x}(\cdot)\)&lt;/span&gt; from the set of states of nature to &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}_{+}\)&lt;/span&gt; can be obtained as the pay-off of a portfolio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In our dynamic context, we say that the market is complete if any pay-off &lt;span class=&quot;math inline&quot;&gt;\(C_{t}\)&lt;/span&gt; (a function from the states of nature of time &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}_{+}\)&lt;/span&gt;) for any &lt;span class=&quot;math inline&quot;&gt;\(t \in [0,T]\)&lt;/span&gt; can be obtained as the pay-off of a given trading policy. In particular, we need to be able to synthesize all Arrow Debreu securities of all dates &lt;span class=&quot;math inline&quot;&gt;\(t \in [0,T]\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In a market without arbitrage, there is at least one strictly positive SDF and therefore one risk neutral probability measure. If markets are complete, there is necessarily only one SDF and only one risk neutral measure.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Indeed, consider the price of the Arrow Debreu security &lt;span class=&quot;math inline&quot;&gt;\(e_{t,k}\)&lt;/span&gt; that pays &lt;span class=&quot;math inline&quot;&gt;\(1\)&lt;/span&gt; in state &lt;span class=&quot;math inline&quot;&gt;\(\omega_{t,k}\)&lt;/span&gt; of date &lt;span class=&quot;math inline&quot;&gt;\(t\)&lt;/span&gt; is: &lt;span class=&quot;math display&quot;&gt;\[P_{0}(e_{t,k})=E_{0}[m_{t}(\omega_{t,\cdot})e_{t,k}(\omega_{t,\cdot})]=p_{0}(\omega_{t,k})m_{t}(\omega_{t,k}),\]&lt;/span&gt; where &lt;span class=&quot;math inline&quot;&gt;\(p_{0}(\omega_{t,k})\)&lt;/span&gt; is the probability as seen from date &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; of state &lt;span class=&quot;math inline&quot;&gt;\(\omega_{t,k}\)&lt;/span&gt;. Thus, the value of the SDF is fixed by probabilities as of time &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; and time &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; prices.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;the-martingale-method&quot;&gt;The martingale method&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;In a general context, checking that a certain consumption stream over &lt;span class=&quot;math inline&quot;&gt;\([0,T]\)&lt;/span&gt; can be finance by trading involves a complex investigation of the structure that markets impose through the intertemporal budget constraint to the ability to transfer wealth across time and states of nature.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In a complete market, there is no limit to the ability to transfer wealth. All consumption streams are tradables. In the end thus, whether a certain consumption stream can be financed is just a matter of having enough wealth at time &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt;. This is true regardless of whether we receive income or not.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In what follows, I assume as a simplification that there is no income.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the complete market case, the feasibility of a consumption stream is encapsulated in the budget constraint: &lt;span class=&quot;math display&quot;&gt;\[\sum_{t=0}^{T}E_{0}[m_{t}C_{t}]+E_{0}[m_{T}W_{T}]=m_{0}W_{0}.\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whereas this equation necessarily holds in incomplete markets, a consumption stream that satisfies this equation is not necessarily actually feasible. One would indeed need to verify that a trading strategy using available assets can finance the consumption stream.. In a complete market, the existence of such a trading strategy is ensured.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The structure of a complete markets portfolio optimization problem is as follows: we maximize a utility function under a constraint which is defined by a linear functional on the consumption function. This is entirely analogous to the static multigood consumption problem of traditional microeconomic theory and we can therefore say that the optimization problem is static.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We assume that the optimization problem is: &lt;span class=&quot;math display&quot;&gt;\[\underset{(C_{0},\ldots,C_{T})}{\text{max}}
\; E_{0}\left[\sum_{t=0}^{T} \delta^{t}u_{t}(C_{t})\right],\]&lt;/span&gt; subject to: &lt;span class=&quot;math display&quot;&gt;\[W_{0}=\sum_{t=0}^{T}E_{0}[m_{t}C_{t}],\]&lt;/span&gt; assuming &lt;span class=&quot;math inline&quot;&gt;\(u_{t}(\cdot)\)&lt;/span&gt; has range &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}_{+}^{*}\)&lt;/span&gt; and is strictly increasing and concave, with &lt;span class=&quot;math inline&quot;&gt;\(u_{t}^{\prime}\)&lt;/span&gt; ranging from &lt;span class=&quot;math inline&quot;&gt;\(+\infty\)&lt;/span&gt; to &lt;span class=&quot;math inline&quot;&gt;\(0\)&lt;/span&gt; as consumption varies in &lt;span class=&quot;math inline&quot;&gt;\(\mathbb{R}_{+}^{*}\)&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The command is the set of consumption values for all times and states of nature. This is a finite set of numbers since we assume discrete time, a finite horizon and a discrete probability state. The system is solved as usual using the Lagrangian, the first order condition being: &lt;span class=&quot;math display&quot;&gt;\[\delta^{t}u_{t}&amp;#39;(C_{t}(\omega_{t,k}))=\lambda m_{t}(\omega_{t,k}).\]&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As in the static case, we can thus take: &lt;span class=&quot;math display&quot;&gt;\[C_{t}(\omega_{t,k})=u_{t}^{\prime -1}(\lambda \delta^{-t} m_{t}(\omega_{t,k})),\]&lt;/span&gt; and one picks the value of &lt;span class=&quot;math inline&quot;&gt;\(\lambda\)&lt;/span&gt; which implies that the budget constraint is satisfied.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The assumptions on marginal utilities are designed to ensure that there is a unique solution &lt;span class=&quot;math inline&quot;&gt;\(\lambda^{*}\)&lt;/span&gt; for any initial level of wealth.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Completeness (and absence of arbitrage) thus implies that the optimization problem is static. It can be solved under the right technical assumption as in the two period case, and as in the standard microeconomic multi-good consumption problem.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The key point is that the gradient of the utility function has to be, at the optimum, proportional to the unique SDF.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To apply this in practice, one needs to set up a complete market model such as the binomial model for stock prices.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that the solution directly gives the consumption function. How the consumption plan is practically financed requires a separate investigation. What we know is that it can be financed for sure.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;One could describe the optimization process using the risk neutral measure instead of the SDF. Because under this measure, the properly discounted wealth process (i.e. discounted using the cash account) is a martingale, this method is usually called the martingale method.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2015-11-14-complete-dyn.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Sat, 14 Nov 2015 00:00:00 +0100</pubDate>
				<link>http://127.0.0.1:4000/ensae/2015/11/14/complete-dyn.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2015/11/14/complete-dyn.html</guid>
			</item>
		
			<item>
				<title>Using Jupyter notebooks</title>
				<description>&lt;p&gt;&lt;em&gt;This post explains how to use the IPython/Jupyter notebooks which are provided in this blog through Github. The notebooks can easily be uploaded on a personal Sagemathcloud account. This avoids having to install a local implementation of Jupyter.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2 id=&quot;ipyhtonjupyter-notebooks-github-and-sagemathcloud&quot;&gt;IPyhton/Jupyter notebooks, Github and Sagemathcloud&lt;/h2&gt;
&lt;p&gt;Python has become a credible option for scientific programming. Resources on the use of python in the economic context can be found &lt;a href=&quot;http://www.kevinsheppard.com/Python_for_Econometrics&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Notebooks are a convenient way of using Python in education/teaching contexts. Notebooks provide a webbased programming environment. It relies on IPython, which has very recently morphed into the Jupyter project (see &lt;a href=&quot;http://jupyter.readthedocs.org/&quot;&gt;here&lt;/a&gt;). Notebooks allow to mix code, illustrations, latex commands, html, markdown… One can find interesting resources and notebook examples &lt;a href=&quot;https://github.com/ipython/ipython/wiki/A-gallery-of-interesting-IPython-Notebooks&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The notebooks referenced in this blog are posted on Github which has been recently updated to allow notebook visualization. Notebooks can be downloaded locally from Gihub by the readers of this blog. What is then required to use the notebooks is a Jupyter environment.&lt;/p&gt;
&lt;p&gt;I recommend &lt;a href=&quot;https://cloud.sagemath.com/&quot;&gt;Sagemathcloud&lt;/a&gt; as a webbased platform to run Jupyter notebooks. An account needs to be created. Once this is done, a project has to be added. A Jupyter notebook can then be created or uploaded. The notebook can then be run and amended.&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/assets/pdfs/2015-10-17-ipython.pdf&quot;&gt;Link to pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
				<pubDate>Sat, 17 Oct 2015 00:00:00 +0200</pubDate>
				<link>http://127.0.0.1:4000/ensae/2015/10/17/ipython.html</link>
				<guid isPermaLink="true">http://127.0.0.1:4000/ensae/2015/10/17/ipython.html</guid>
			</item>
		
	</channel>
</rss>
